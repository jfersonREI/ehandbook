!function(e,t,i,n,o){"use strict";function s(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}function r(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function a(e,t){return function(i,n){t(i,n,e)}}var u=function(){function e(){this.favorites=new Array,this.displayCount=5}return e}(),l=function(){function e(e,t,i,n,o,s){this.id=e,this.displayText=t,this.description=i,this.baseUrl=n,this.relativeURL=o,this.additionalParams=s}return e}(),f=function(){function e(){}return e}(),c=function(){function e(){}return e}(),p=function(){function e(e,t){this.isOpen=!1,this.id=e,this.text=t,this.items=new Array}return Object.defineProperty(e.prototype,"hasItem",{get:function(){return null!==this.items&&this.items.length>0},enumerable:!0,configurable:!0}),e}(),v=function(){function e(e,t,i){this.id=e,this.params=i,this.visible=t}return Object.defineProperty(e.prototype,"enabled",{get:function(){return void 0!==this.id&&null!==this.id&&""===this.id},enumerable:!0,configurable:!0}),e}();!function(e){e[e.Top=1]="Top",e[e.Other=2]="Other"}(e.FavoriteType||(e.FavoriteType={}));var d,h;e.FavoritesService=function(){function e(e,t){this.http=e,this.config=t}return e.prototype.getFavorites=function(e){return this.http.get(this.config.layoutUrl+"api/favorites/topitems",{params:e},!0,!1)},e.prototype.getGroupedFavorites=function(e,t){var i={userId:e,count:t,useJsonFile:!1};return this.http.get(this.config.layoutUrl+"api/favorites/groupitems",{params:i},!0)},e.prototype.isFavorite=function(e){var t={userId:e.userId,id:e.id,params:e.params};return this.http.get(this.config.layoutUrl+"api/favorites/isfavorite",{params:t},!0)},e.prototype.add=function(e){return this.http.get(this.config.layoutUrl+"api/favorites/add",{params:e},!0)},e.prototype.delete=function(e){return this.http.get(this.config.layoutUrl+"api/favorites/delete",{params:e},!0)},e.prototype.deleteById=function(e){return this.http.get(this.config.layoutUrl+"api/favorites/deletebyId",{params:e},!0)},e.prototype.unPinFavorites=function(e){return this.http.get(this.config.layoutUrl+"api/favorites/unpin",{params:e},!0)},e}(),e.FavoritesService=s([t.Injectable(),a(0,t.Inject(i.PlatformHttp)),a(1,t.Inject(i.PfmCoreConfig)),r("design:paramtypes",["function"==typeof(d=void 0!==i.PlatformHttp&&i.PlatformHttp)&&d||Object,"function"==typeof(h=void 0!==i.PfmCoreConfig&&i.PfmCoreConfig)&&h||Object])],e.FavoritesService);var g,m,y;e.FavoritesMenuComponent=function(){function e(e,i){this.service=e,this.urlService=i,this.isOpen=!1,this.maxListRow=6,this.closeMenu=new t.EventEmitter,this.left="174.84px",this.isActive=!0,this.model=new v,this.managePageId="516A97EC-2804-4740-AB46-62C76F42C1B4",this.manageFavoritesUrl="#",this.favGroupList=new Array}return e.prototype.ngOnInit=function(){var e=this;this.service.getGroupedFavorites(this.model.userId,this.maxListRow).subscribe(function(t){e.favGroupList=t}),this.service.isFavorite(this.model).subscribe(function(t){e.model.action=t.action}),this.urlService.getUrl(this.managePageId).subscribe(function(t){e.manageFavoritesUrl=t})},e.prototype.ngOnChanges=function(e){if(this.isOpen&&this.favGroupList.length>0){this.favGroupList.find(function(e){return e.isOpen})||(this.favGroupList[0].isOpen=!0)}},e.prototype.ngAfterViewChecked=function(){if(this.focusItemId){var e=document.getElementById(this.focusItemId);e&&(e.focus(),this.focusItemId=void 0)}},e.prototype.OnAddRemoveClick=function(){var e=this;"AddToFavorites"===this.model.action?this.service.add(this.model).subscribe(function(t){e.model.action=t.action}):"RemoveFromFavorites"===this.model.action&&this.service.delete(this.model).subscribe(function(t){e.model.action=t.action})},e.prototype.toggleSubMenu=function(e,t,i){void 0===i&&(i=null);var n=e.which||e.keyCode,o=!1;if(32===n||13===n)return null!==i||(this.favGroupList[t].isOpen=!this.favGroupList[t].isOpen,!1);if(e.shiftKey||9!==n){if(e.shiftKey&&9===n)if(o=!0,null===i){if(0===t)return this.favGroupList[t].isOpen=!1,document.getElementById("liFavoriteMenu").focus(),this.closeMenu.emit(),!1}else if(0===i&&(this.favGroupList[t].isOpen=!1,navigator.userAgent.toLowerCase().indexOf("firefox")>-1))return!1}else if(null!==i&&i===this.favGroupList[t].items.length-1)this.favGroupList[t].isOpen=!1;else if(null===i)return this.favGroupList[t].isOpen=!0,this.focusItemId="favg"+t+"i0",!1;return(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&!1===this.favGroupList[t].isOpen?(this.focusItemId=this.favGroupList[t].text+t,!o||null===i&&0!==t):void 0},e.prototype.toggleMenu=function(e,t){var i=e.which||e.keyCode;e.shiftKey&&0!==this.favGroupList.length||9!==i||("Manage Favorites"!==t||this.model.visible?"Add to Favorites"===t&&(this.isOpen=!this.isOpen):this.isOpen=!this.isOpen,this.isOpen||(document.getElementById("liFavoriteMenu").focus(),this.closeMenu.emit()))},e}(),s([t.Input(),r("design:type",Boolean)],e.FavoritesMenuComponent.prototype,"isOpen",void 0),s([t.Input(),r("design:type","function"==typeof(g=void 0!==v&&v)&&g||Object)],e.FavoritesMenuComponent.prototype,"model",void 0),s([t.Input(),r("design:type",Number)],e.FavoritesMenuComponent.prototype,"maxListRow",void 0),s([t.Input(),r("design:type",String)],e.FavoritesMenuComponent.prototype,"managePageId",void 0),s([t.Output(),r("design:type",Object)],e.FavoritesMenuComponent.prototype,"closeMenu",void 0),e.FavoritesMenuComponent=s([t.Component({selector:"pfm-menu-favorites",template:'<div id="favoritesRoot"  *ngIf="isOpen" \n     class="fg-menu-container ui-widget ui-widget-content ui-corner-all fg-menu-flyout" \n     style="width: 175px; bottom: 24px; top: auto; right: auto; left: 0px; display: block;" >\n\n    <ul style="width: 175px" class="fg-menu ui-corner-all"  aria-activedescendant="active-menuitem" aria-labelledby="favoriteMenueButton">\n        <div>\n            <b>Favorites</b>\n        </div>\n\n        <li *ngIf="favGroupList.length === 0">\n            <a class="ui-corner-all disabled" tabindex="-1">No Shortcuts Available</a>\n        </li>\n\n        <li *ngFor="let group of favGroupList; let i = index" \n            [hidden]="favGroupList.length === 0"\n            (mouseenter)="group.isOpen = !group.isOpen;" \n            (mouseleave)="group.isOpen = false;">\n            \n            <a [attr.id]="group.text + i" tabindex="0" class="ui-corner-all fg-menu-indicator" (keydown.enter)="$event.preventDefault()" (keydown)="toggleSubMenu($event, i)" >\n                <span>{{group.text}}</span><span class="ui-icon ui-icon-triangle-1-e"></span>\n            </a>\n\n            <ul class="ui-corner-all ui-widget-content" aria-expanded="true" *ngIf="group.isOpen" [style.left]="left"\n                [class.open]="group.isOpen">\n                <li *ngFor="let item of group.items; let ii = index" (keydown)="toggleSubMenu($event, i, ii)">\n                    <a class="ui-corner-all" [attr.id]="\'favg\' + i + \'i\' + ii" [href]="item.baseUrl + item.relativeURL + item.additionalParams">{{item.displayText}}</a>\n                </li>\n            </ul>\n        </li>\n\n        <li *ngIf="managePageId">\n            <a [href]="manageFavoritesUrl" class="ui-corner-all" (keydown)="toggleMenu($event,\'Manage Favorites\')">Manage Favorites</a>\n        </li>\n\n        <li *ngIf="model.visible">\n            <a tabindex="0" (click)="OnAddRemoveClick()" class="ui-corner-all" (keydown)="toggleMenu($event, \'Add to Favorites\')">{{model.text}}</a>\n        </li>\n    </ul>\n</div>',styles:[".open { display: block; max-width: none; margin-left: -17px !important;}"]}),a(0,t.Inject(e.FavoritesService)),a(1,t.Inject(i.UrlService)),r("design:paramtypes",["function"==typeof(m=void 0!==e.FavoritesService&&e.FavoritesService)&&m||Object,"function"==typeof(y=void 0!==i.UrlService&&i.UrlService)&&y||Object])],e.FavoritesMenuComponent);var b,F,C,I;e.FavoritesComponent=function(){function e(e,t,i){this.service=e,this.tooltipConfig=t,this.urlService=i,this.mngFavCPPId="395CE990-817B-480F-9EEC-E76CA4891199",this.vm=new u,this.params=new c,this.displayCount=5,this.mngFavoritesUrl=""}return e.prototype.ngOnInit=function(){var e=this;this.service.getFavorites(this.params).subscribe(function(t){e.vm.favorites=t}),this.vm.displayCount=this.displayCount,this.tooltipConfig.placement="bottom",this.urlService.getUrl(this.mngFavCPPId).subscribe(function(t){e.mngFavoritesUrl=t})},e.prototype.unPin=function(e,t){t.pinned=!1;var i=new f;i.ids=new Array,i.ids.push(t.id),this.service.unPinFavorites(i).subscribe(function(e){}),e.preventDefault()},e.prototype.onKeyDown=function(e,t){var i=e.which||e.keyCode;if(e.shiftKey||13!==i)e.shiftKey||32!==i||e.preventDefault();else if(this.unPin(e,t),void 0!==this.vm.favorites&&this.vm.favorites.length>0){var n=this.vm.favorites.find(function(e){return e.pinned&&e.id!==t.id});n?document.getElementById("favItem"+n.id).focus():document.getElementById("pinToFavorites").focus()}},e.prototype.hasLessThanMaxPinned=function(){return this.vm.favorites.filter(function(e){return e.pinned}).length<this.vm.displayCount},e}(),s([t.Input(),r("design:type","function"==typeof(b=void 0!==c&&c)&&b||Object)],e.FavoritesComponent.prototype,"params",void 0),s([t.Input(),r("design:type",Number)],e.FavoritesComponent.prototype,"displayCount",void 0),e.FavoritesComponent=s([t.Component({selector:"pfm-widget-favorites",template:'<div class="widget widget-favorites">\n    <h3 class="external-widget-title">Favorites</h3>\n    <span class="title-menu">\n\n    </span>\n    <div class="widget-content">\n        <div class="fav-row">\n            <div *ngFor="let f of vm.favorites">\n            <div class="{{f.colorClass}} fav-item " *ngIf="f.pinned">\n                <div class="fav-icon-container"><i class="{{f.iconClass}}" aria-hidden="true"></i></div>\n                <a [id]="\'favItem\' + f.id" [href]="f.baseUrl + f.relativeURL + f.additionalParams" triggers="focus:focusout hover" [ngbTooltip]="f.description + \' - \' + f.displayText">\n                    <div class="fav-category fav-label">{{f.description}}</div>\n                    <div class="fav-label">{{f.displayText}}</div>\n                </a>\n                <a href="" (click)="unPin($event,f)" (keydown)="onKeyDown($event,f)" triggers="focus:focusout hover" [ngbTooltip]="\'Unpin Favorite from Home Page\'" class="close-fav">\n                    <i class="fa fa-thumb-tack" aria-hidden="true"></i><span class="sr-only">Unpin Favorite from Home Page</span>\n                </a>\n            </div>\n            </div>\n            <div class="fav-add fav-item" *ngIf="hasLessThanMaxPinned()">\n                <div class="fav-icon-container"><i class="fa fa-thumb-tack fav-icon" aria-hidden="true"></i></div>\n                <a id="pinToFavorites" href="{{mngFavoritesUrl}}" triggers="focus:focusout hover" [ngbTooltip]="\'Click on the star icon on the bottom right side of the screen to add page to favorites\'">\n                    <div class="fav-category" style="color:#ffffff;">\n                        Pin Favorites to Home Page&nbsp;\n                    </div>\n                    <span class="sr-only">Click on the star icon on the bottom right side of the screen to add page to favorites</span>\n                </a>\n            </div>\n            <div class="fav-row">\n                <a href="{{mngFavoritesUrl}}" class="lone-link"><i class="fa fa-angle-right" aria-hidden="true"></i> View All Favorites</a>\n            </div>\n        </div>\n    </div>\n</div>\n\n'}),a(0,t.Inject(e.FavoritesService)),a(1,t.Inject(n.NgbTooltipConfig)),a(2,t.Inject(i.UrlService)),r("design:paramtypes",["function"==typeof(F=void 0!==e.FavoritesService&&e.FavoritesService)&&F||Object,"function"==typeof(C=void 0!==n.NgbTooltipConfig&&n.NgbTooltipConfig)&&C||Object,"function"==typeof(I=void 0!==i.UrlService&&i.UrlService)&&I||Object])],e.FavoritesComponent),e.FavoritesModule=function(){function e(){}return e}(),e.FavoritesModule=s([t.NgModule({imports:[o.CommonModule,n.NgbTooltipModule,n.NgbCollapseModule,n.NgbAccordionModule,i.CoreModule],providers:[n.NgbAccordionConfig,n.NgbTooltipConfig,e.FavoritesService],declarations:[e.FavoritesComponent,e.FavoritesMenuComponent],exports:[e.FavoritesComponent,e.FavoritesMenuComponent]})],e.FavoritesModule),e.AddRemoveFavoritesModel=v,e.FavoriteGroupModel=p,e.FavoriteItemModel=l,e.FavoritesInput=c,e.FavoritesModel=u,e.unPinInput=f}(this.pfm_layout_favorites=this.pfm_layout_favorites||{},vendor._angular_core,pfm_ng_core,vendor._ngbootstrap,vendor._angular_common);