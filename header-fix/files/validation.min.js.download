!function(l){var e,s;function t(){this.Rules=new Array,this.sqlRules=new Array}e=(e=l.BusinessLayer||(l.BusinessLayer={})).BusinessLogic||(e.BusinessLogic={}),s=e.Validation||(e.Validation={}),t.prototype.AddRules=function(e){for(var t=0;t<e.length;t++)if(e[t].hasOwnProperty("Type"))switch(e[t].Type){case"SRule":this.Rules.push(new s.SimpleRule(e[t]));break;case"CRule":var a=new s.CombinedRule(e[t]);this.sqlRules=this.sqlRules.concat(a.GetSQLRules()),this.Rules.push(a);break;case"FRule":this.Rules.push(new s.FunctionalRule(e[t]));break;case"SQLRule":a=new s.SQLRule(e[t]);this.Rules.push(a),this.sqlRules.push(a)}},t.prototype.AddRule=function(e){if(e.hasOwnProperty("Type"))switch(e.Type){case"SRule":this.Rules.push(new s.SimpleRule(e));break;case"CRule":var t=new s.CombinedRule(e);this.sqlRules=this.sqlRules.concat(t.GetSQLRules()),this.Rules.push(t);break;case"FRule":this.Rules.push(new s.FunctionalRule(e));break;case"SQLRule":t=new s.SQLRule(e);this.Rules.push(t),this.sqlRules.push(t)}},t.prototype.Validate=function(e){this.HandleSQLRuleData(e);for(var t,a=new Array,s=0;s<this.Rules.length;s++)try{this.Rules[s].IsRuleEnabled&&(l.Utilities.Comparer.IsNullEmptyUndefined(e)?l.Utilities.Comparer.IsNullEmptyUndefined(this.Rules[s].ValidationGroup)&&(t=this.Rules[s].Validate(),a.push(t)):this.Rules[s].ValidationGroup==e&&(t=this.Rules[s].Validate(),a.push(t)))}catch(e){PlatformConsole.log("Rule failed "+this.Rules[s].Message+" "+this.Rules[s].VCode)}return a},t.prototype.ClearRules=function(){this.Rules=new Array},t.prototype.GetRule=function(e){for(var t=0;t<this.Rules.length;t++)if(this.Rules[t].RuleId==e)return this.Rules[t];return null},t.prototype.HandleSQLRuleData=function(e){if(0<this.sqlRules.length){for(var t=[],a=0;a<this.sqlRules.length;a++)for(a=0;a<this.sqlRules.length;a++)l.Utilities.Comparer.IsNullEmptyUndefined(e)?l.Utilities.Comparer.IsNullEmptyUndefined(this.sqlRules[a].ValidationGroup)&&t.push(this.sqlRules[a].GetRule()):this.sqlRules[a].ValidationGroup==e&&t.push(this.sqlRules[a].GetRule());for(var s={ruleCollection:{Rules:t}},i=(new l.BusinessLayer.BusinessLogic.Validation.SQLRuleServiceUtility).PostJSonToWebService(s),a=0;a<this.sqlRules.length;a++)this.sqlRules[a].PopulateResult(i)}},s.RuleEngine=t}(ReiSys=ReiSys||{});var ReiSys,ruleEngine=new ReiSys.BusinessLayer.BusinessLogic.Validation.RuleEngine;!function(a){var e,s,i;function t(){}function l(e){this.value=null,this.IsRuleEnabled=!0,e.hasOwnProperty("Id")&&(this.Id=e.Id),e.hasOwnProperty("VCode")&&(this.VCode=e.VCode),e.hasOwnProperty("CompareValue")&&(this.CompareValue=e.CompareValue),e.hasOwnProperty("EditCode")&&(this.editCode=e.editCode),e.hasOwnProperty("Empty")&&(this.empty=e.Empty),e.hasOwnProperty("Message")&&(this.Message=e.Message),e.hasOwnProperty("Pass")&&(this.Pass=e.Pass),e.hasOwnProperty("ValidationPlaceHolder")&&(this.placeHolderId=e.ValidationPlaceHolder),e.hasOwnProperty("ValidationGroup")&&(this.ValidationGroup=e.ValidationGroup),e.hasOwnProperty("RuleId")&&(this.RuleId=e.RuleId)}e=(e=a.BusinessLayer||(a.BusinessLayer={})).BusinessLogic||(e.BusinessLogic={}),s=e.Validation||(e.Validation={}),t.Numeric="Numeric",t.EQ="EQ",t.GT="GT",t.LT="LT",t.GE="GE",t.LE="LE",t.NE="NE",t.MAXLEN="MAXLEN",t.MINLEN="MINLEN",t.EXPRESSION="EXPRESSION",t.Date="Date",t.Phone="Phone",t.Email="Email",t.Money="Money",t.SSN="SSN",t.Integer="Integer",t.Floating="Floating",t.Password="Password",t.Decimal="Decimal",i=t,s.SimpleRuleVCodes=i,l.prototype.Validate=function(){var e=new s.ValidationResult,t=null==this.value?a.Utilities.Util.GetControlValue(this.Id,!1):this.value;return""==(t=a.Utilities.Util.TrimString(t))?this.empty||(this.SetValidationResult(e),PlatformConsole.log("Validate() id:"+this.Id+" empty:"+this.empty+" inputValue:empty")):this.ValidateVCode(e,t),e},l.prototype.SetValidationResult=function(e){var t="";null!=this.placeHolderId?(t=this.placeHolderId,e.AddControl(this.Id)):t=this.Id,e.PopulateInvalid(this.Message,t,this.Pass)},l.prototype.ValidateVCode=function(e,t){switch(this.VCode){case i.Numeric:this.IsValidNumeric(t)||this.SetValidationResult(e);break;case i.EQ:this.CompareValue,a.Utilities.Comparer.IsEqual(t.toLowerCase(),this.CompareValue.toLowerCase())||this.SetValidationResult(e);break;case i.GT:a.Utilities.Comparer.GreaterThan(t,this.CompareValue)||this.SetValidationResult(e);break;case i.LT:a.Utilities.Comparer.LessThan(t,this.CompareValue)||this.SetValidationResult(e);break;case i.GE:a.Utilities.Comparer.GreaterThanEqual(t,this.CompareValue)||this.SetValidationResult(e);break;case i.LE:a.Utilities.Comparer.LessThanEqual(t,this.CompareValue)||this.SetValidationResult(e);break;case i.NE:a.Utilities.Comparer.IsEqual(t.toLowerCase(),this.CompareValue.toLowerCase())&&this.SetValidationResult(e);break;case i.MAXLEN:t.length>parseInt(this.CompareValue)&&this.SetValidationResult(e);break;case i.MINLEN:t.length<parseInt(this.CompareValue)&&this.SetValidationResult(e);break;case i.EXPRESSION:t.match(this.CompareValue)||this.SetValidationResult(e);break;case i.Date:t.match("^(?:\\s+)?(?=\\d)(?:(?:(?:(?:(?:0?[13578]|1[02])(\\/|-|\\.)31)\\1|(?:(?:0?[1,3-9]|1[0-2])(\\/|-|\\.)(?:29|30)\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})|(?:0?2(\\/|-|\\.)29\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))|(?:(?:0?[1-9])|(?:1[0-2]))(\\/|-|\\.)(?:0?[1-9]|1\\d|2[0-8])\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2}))($| (?=\\d)))?(((0?[1-9]|1[012])(:[0-5]\\d){0,2}( [AP]M))|([01]\\d|2[0-3])(:[0-5]\\d){1,2})?(?:\\s+)?$")||this.SetValidationResult(e);break;case i.Phone:t.match("^\\(?[\\d]{3}\\)?[\\s-]?[\\d]{3}[\\s-]?[\\d]{4}$")||this.SetValidationResult(e);break;case i.Email:t.match("(^(?!.*[\\.@]{2}))(^(?!\\.))[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?")||this.SetValidationResult(e);break;case i.Money:t.match("(^((-{0,1})(\\${0,1})?([1-9]{1}[0-9]{0,2}(,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$))|(^((\\()(\\${0,1})?([1-9]{1}[0-9]{0,2}(,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)(\\))$))|(^((\\${0,1})?([1-9]{1}[0-9]{0,2}(,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$))")||this.SetValidationResult(e);break;case i.SSN:new RegExp("^\\d{3}-\\d{2}-\\d{4}$").test(t)||this.SetValidationResult(e);break;case i.Integer:t.match("^(-{0,1})([0-9]{0,})$")||this.SetValidationResult(e);break;case i.Floating:t.match("[-+]?[0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?")||this.SetValidationResult(e);break;case i.Decimal:t.match("^(\\d{0,}\\.{0,1}\\d{0,2}?$)")||this.SetValidationResult(e);break;case i.Password:t.match("^.*(?=.{8,20}$)(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=]).*$")||this.SetValidationResult(e)}PlatformConsole.log("ValidateVCode() id:"+this.Id+" VCode"+this.VCode+" pass:"+this.Pass+" editCode:"+this.editCode+" inputValue:"+t+" compareValue:"+this.CompareValue.toLowerCase()+" validity:"+e.Validity)},l.prototype.IsValidNumeric=function(e){var t=!1;return t=new RegExp("^((?:(?:\\+|-)?(?:(?:\\d{1,3})(?:,\\d{3})*)(?:\\.\\d*)?)|(?:(?:\\+|-)?(?:\\d)*(?:\\.\\d*)?)|((?:\\+|-)?(?:\\d+)(?:E|e)(?:\\+|-)?(?:\\d+)))$").test(e)&&"."!=e&&"+"!=e&&"-"!=e&&""!=e?!0:t},l.prototype.SetValue=function(e,t){this.Id==e&&(this.value=t)},s.SimpleRule=l}(ReiSys=ReiSys||{}),function(l){var e,o,s,r,n,u;function t(e){if(this.IsRuleEnabled=!0,this.FRuleParam=[],this.controlIds=[],e.hasOwnProperty("VCode")&&(this.VCode=e.VCode),e.hasOwnProperty("ValidationPlaceHolder")&&(this.ValidationPlaceHolder=e.ValidationPlaceHolder),e.hasOwnProperty("Name")&&(this.Name=e.Name),e.hasOwnProperty("Message")&&(this.Message=e.Message),e.hasOwnProperty("Pass")&&(this.Pass=e.Pass),e.hasOwnProperty("Params"))for(var t=0;t<e.Params.length;t++){var a=new s(e.Params[t]);this.controlIds=this.controlIds.concat(a.GetParams()),this.FRuleParam.push(a)}e.hasOwnProperty("ValidationGroup")&&(this.ValidationGroup=e.ValidationGroup),e.hasOwnProperty("RuleId")&&(this.RuleId=e.RuleId)}function a(e){if(this.params=new Array,this.paramValueSet=[],e.hasOwnProperty("Name")&&(this.Name=e.Name),e.hasOwnProperty("VCode")&&(this.VCode=e.VCode),e.hasOwnProperty("ControlIds"))for(var t=0;t<e.ControlIds.length;t++)this.params.push(e.ControlIds[t])}function i(){}function h(){}function d(){}e=(e=l.BusinessLayer||(l.BusinessLayer={})).BusinessLogic||(e.BusinessLogic={}),o=e.Validation||(e.Validation={}),t.prototype.Validate=function(){var e=new o.ValidationResult,t=this.FRuleParam[0].CalculateResult(),a=this.FRuleParam[1].CalculateResult(),s=t.Value,i=a.Value;if(t.ValueType!=r.NAN&&a.ValueType!=r.NAN)if(t.ValueType==a.ValueType&&null!=t.ValueType)switch(this.VCode){case u.EQ:s!=i&&e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case u.GT:s<=i&&e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case u.GE:s<i&&e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case u.LT:i<=s&&e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case u.LE:i<s&&e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case u.NE:s==i&&e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass)}else e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);return e.SetControls(this.controlIds),e},t.prototype.GetParams=function(){return this.controlIds},t.prototype.SetValue=function(e,t){for(var a=0;a<this.FRuleParam.length;a++)this.FRuleParam[a].SetValue(e,t)},o.FunctionalRule=t,a.prototype.SetValue=function(e,t){var a;-1<this.params.indexOf(e)&&(-1==(a=this.GetIndexInArrayOfKey(e))?this.paramValueSet.push({key:e,value:t+""}):this.paramValueSet[a].value=t+"")},a.prototype.GetControlsValue=function(e){var t;return!(0<this.paramValueSet.length)||-1==(t=this.GetIndexInArrayOfKey(e))?l.Utilities.Util.GetControlValue(e,!1):this.paramValueSet[t].value},a.prototype.GetIndexInArrayOfKey=function(e){for(var t=-1,a=0;a<this.paramValueSet.length;a++)if(this.paramValueSet[a].key==e){t=a;break}return t},a.prototype.CalculateResult=function(){var e=new n;switch(this.VCode){case u.ADD:for(var t=0,a=0;a<this.params.length;a++)t+=parseFloat(this.GetControlsValue(this.params[a]));isNaN(t)?e.Set(null,r.NAN):e.Set(t,r.NUMBER);break;case u.SUB:for(t=parseFloat(this.GetControlsValue(this.params[0])),a=1;a<this.params.length;a++)t-=parseFloat(this.GetControlsValue(this.params[a]));isNaN(t)?e.Set(null,r.NAN):e.Set(t,r.NUMBER);break;case u.MUL:for(t=parseFloat(this.GetControlsValue(this.params[0])),a=1;a<this.params.length;a++)t*=parseFloat(this.GetControlsValue(this.params[a]));isNaN(t)?e.Set(null,r.NAN):e.Set(t,r.NUMBER);break;case u.DIV:for(t=parseFloat(this.GetControlsValue(this.params[0])),a=1;a<this.params.length;a++)t/=parseFloat(this.GetControlsValue(this.params[a]));isNaN(t)?e.Set(null,r.NAN):e.Set(t,r.NUMBER);break;case u.AVG:for(t=0,a=0;a<this.params.length;a++)t+=parseFloat(this.GetControlsValue(this.params[a]));t/=this.params.length,isNaN(t)?e.Set(null,r.NAN):e.Set(t,r.NUMBER);break;case u.ABS:t=Math.abs(parseFloat(this.GetControlsValue(this.params[0])));isNaN(t)?e.Set(null,r.NAN):e.Set(t,r.NUMBER);break;default:var s=this.GetControlsValue(this.params[0]),i=Date.parse(s);isNaN(i)?l.Utilities.Util.IsValidNumeric(s)?(t=parseFloat(s.replace(",","")),e.Set(t,r.NUMBER)):e.Set(null,r.NAN):e.Set(i,r.DATE)}return e},a.prototype.GetParams=function(){return this.params},s=a,i.DATE="DATE",i.NUMBER="NUMBER",i.NAN="NAN",r=i,h.prototype.Set=function(e,t){this.Value=e,this.ValueType=t},n=h,d.EQ="EQ",d.GT="GT",d.LT="LT",d.GE="GE",d.LE="LE",d.NE="NE",d.ADD="ADD",d.SUB="SUB",d.MUL="MUL",d.AVG="AVG",d.ABS="ABS",d.DIV="DIV",u=d,o.FunctionalRuleVCodes=u}(ReiSys=ReiSys||{}),function(a){var e,s,i;function t(e){if(this.params=new Array,this.paramValueSet=[],this.value=null,this.IsRuleEnabled=!0,e.hasOwnProperty("VCode")&&(this.VCode=e.VCode),e.hasOwnProperty("Pass")&&(this.Pass=e.Pass),e.hasOwnProperty("Message")&&(this.Message=e.Message),e.hasOwnProperty("ValidationPlaceHolder")&&(this.ValidationPlaceHolder=e.ValidationPlaceHolder),e.hasOwnProperty("Name")&&(this.Name=e.Name),e.hasOwnProperty("Id")&&(this.Id=e.Id),e.hasOwnProperty("CompareValue")&&(this.CompareValue=e.CompareValue),e.hasOwnProperty("Statement")&&(this.Statement=e.Statement),e.hasOwnProperty("Component")&&(this.Component=e.Component),e.hasOwnProperty("RuleId")&&(this.RuleId=e.RuleId),e.hasOwnProperty("Params"))for(var t=0;t<e.Params.length;t++)this.params.push(e.Params[t]);e.hasOwnProperty("ValidationGroup")&&(this.ValidationGroup=e.ValidationGroup)}function l(){}function o(){}e=(e=a.BusinessLayer||(a.BusinessLayer={})).BusinessLogic||(e.BusinessLogic={}),s=e.Validation||(e.Validation={}),t.prototype.Validate=function(){var e=new s.ValidationResult,t=null,t=null==this.value?this.sqlResultValue:this.value;switch(this.VCode){case i.EQ:a.Utilities.Comparer.IsEqual(t.toLowerCase(),this.CompareValue.toLowerCase())||e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case i.NE:a.Utilities.Comparer.IsEqual(t.toLowerCase(),this.CompareValue.toLowerCase())&&e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case i.GT:a.Utilities.Comparer.GreaterThan(t,this.CompareValue)||e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case i.GE:a.Utilities.Comparer.GreaterThanEqual(t,this.CompareValue)||e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case i.LT:a.Utilities.Comparer.LessThan(t,this.CompareValue)||e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case i.LE:a.Utilities.Comparer.LessThanEqual(t,this.CompareValue)||e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass)}return e.SetControls(this.params),e},t.prototype.GetRule=function(){for(var e=[],t=0;t<this.params.length;t++){var a=this.GetControlsValue(this.params[t]);e.push({Key:this.params[t],Value:a})}var s=this.Statement,i=this.Component;return{Id:this.Name,Component:i,Statement:s,Params:e}},t.prototype.PopulateResult=function(e){if(null!=e)for(var t=0;t<e.length;t++)e[t].Id==this.Name&&(this.sqlResultValue=e[t].Value)},t.prototype.SetValue=function(e,t){var a;-1<this.params.indexOf(e)&&(-1==(a=this.GetIndexInArrayOfKey(e))?this.paramValueSet.push({key:e,value:t+""}):this.paramValueSet[a].value=t+"")},t.prototype.GetControlsValue=function(e){var t;return!(0<this.paramValueSet.length)||-1==(t=this.GetIndexInArrayOfKey(e))?a.Utilities.Util.GetControlValue(e,!1):this.paramValueSet[t].value},t.prototype.GetIndexInArrayOfKey=function(e){for(var t=-1,a=0;a<this.paramValueSet.length;a++)if(this.paramValueSet[a].key==e){t=a;break}return t},s.SQLRule=t,l.EQ="EQ",l.GT="GT",l.LT="LT",l.GE="GE",l.LE="LE",l.NE="NE",i=l,s.SqlRuleVCodes=i,o.prototype.PostJSonToWebService=function(e){return this.URL=a.Utilities.Util.BaseUrl+"Platform/WebServices/ValidationClientService.svc/Validate",a.Utilities.Util.PostJsonToService(this.URL,JSON.stringify(e))},s.SQLRuleServiceUtility=o}(ReiSys=ReiSys||{}),function(e){var o,r;function i(e){if(this.Rules=new Array,this.sqlRules=new Array,this.controlIds=new Array,this.IsRuleEnabled=!0,e.hasOwnProperty("VCode")&&(this.VCode=e.VCode),e.hasOwnProperty("ValidationPlaceHolder")&&(this.ValidationPlaceHolder=e.ValidationPlaceHolder),e.hasOwnProperty("Name")&&(this.Name=e.Name),e.hasOwnProperty("Message")&&(this.Message=e.Message),e.hasOwnProperty("Pass")&&(this.Pass=e.Pass),e.hasOwnProperty("ValidationGroup")&&(this.ValidationGroup=e.ValidationGroup),e.hasOwnProperty("RuleId")&&(this.RuleId=e.RuleId),e.hasOwnProperty("Rules"))for(var t=0;t<e.Rules.length;t++)if(e.Rules[t].hasOwnProperty("Type"))switch(e.Rules[t].Type){case"SRule":var a=new o.SimpleRule(e.Rules[t]);this.controlIds.push(a.Id),this.Rules.push(a);break;case"CRule":a=new i(e.Rules[t]);this.sqlRules=this.sqlRules.concat(a.GetSQLRules()),this.controlIds=this.controlIds.concat(a.GetControls()),this.Rules.push(a);break;case"FRule":var s=new o.FunctionalRule(e.Rules[t]);this.controlIds=this.controlIds.concat(s.GetParams()),this.Rules.push(s);break;case"SQLRule":s=new o.SQLRule(e.Rules[t]);this.controlIds=this.controlIds.concat(s.params),this.sqlRules.push(s),this.Rules.push(s)}}function t(){}e=(e=e.BusinessLayer||(e.BusinessLayer={})).BusinessLogic||(e.BusinessLogic={}),o=e.Validation||(e.Validation={}),i.prototype.Validate=function(){var e=new o.ValidationResult;switch(this.VCode){case r.Then:var t=this.Rules[0].Validate(),a=this.Rules[1].Validate();t.Validity==o.ValidationResultStatus.Valid?null!=a?a.Validity!=o.ValidationResultStatus.Valid?e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass):PlatformConsole.log("Validate() CRule: name:"+this.RuleId+" VCode:"+this.VCode+" "+a.ControlId+" rule2 invalid"):PlatformConsole.log("Validate() CRule: name:"+this.RuleId+" missing second rule or invalid"):PlatformConsole.log("Validate() CRule: name:"+this.RuleId+" VCode:"+this.VCode+" "+t.ControlId+" rule1 invalid");break;case r.AND:for(var s=0;s<this.Rules.length;s++){if((l=this.Rules[s].Validate()).Validity!=o.ValidationResultStatus.Valid){e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break}PlatformConsole.log("Validate() CRule: name:"+this.RuleId+" VCode:"+this.VCode+" "+l.ControlId+" rule"+s+" invalid")}break;case r.NOT:for(s=0;s<this.Rules.length;s++)if((l=this.Rules[s].Validate()).Validity==o.ValidationResultStatus.Valid){e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break}break;case r.OR:for(var i=!1,s=0;s<this.Rules.length;s++){var l=this.Rules[s].Validate();if(this.Rules[s].Validate().Validity==o.ValidationResultStatus.Valid){i=!0;break}}i||e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case r.EXOR:t=this.Rules[0].Validate(),a=this.Rules[1].Validate();t.Validity==o.ValidationResultStatus.Valid?a.Validity==o.ValidationResultStatus.Valid&&e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass):a.Validity!=o.ValidationResultStatus.Valid&&e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case r.NAND:for(i=!1,s=0;s<this.Rules.length;s++)(l=this.Rules[s].Validate()).Validity!=o.ValidationResultStatus.Valid&&(i=!0);i||e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass);break;case r.NOR:for(i=!1,s=0;s<this.Rules.length;s++)if((l=this.Rules[s].Validate()).Validity==o.ValidationResultStatus.Valid){i=!0;break}i&&e.PopulateInvalid(this.Message,this.ValidationPlaceHolder,this.Pass)}return e.SetControls(this.controlIds),e},i.prototype.GetSQLRules=function(){return this.sqlRules},i.prototype.GetControls=function(){return this.controlIds},i.prototype.SetValue=function(e,t){for(var a=0;a<this.Rules.length;a++)this.Rules[a].SetValue(e,t)},o.CombinedRule=i,t.Then="THEN",t.AND="AND",t.NOT="NOT",t.OR="OR",t.EXOR="XOR",t.NAND="NAND",t.NOR="NOR",r=t,o.CombinedRuleVCodes=r}(ReiSys=ReiSys||{});