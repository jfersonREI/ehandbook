!function(e){function t(){}e=(e=e.Layout||(e.Layout={})).Messages||(e.Messages={}),t.IsVisibile=function(){return $("div[id*=masterSystemMessage]").is(":visible")},t.SetVisibility=function(e){e?($("div[id*=masterSystemMessage]").removeClass("hideItem"),$("div[id*=masterSystemMessage] div").html("System Alert ")):($("div[id*=masterSystemMessage]").addClass("hideItem"),$("div[id*=masterSystemMessage] div").html(""))},t.AddMessage=function(e){$("div[id*=masterSystemMessage] .messageGL").append($("<span>"+e+"</span>"))},t.ClearMessages=function(){$("div[id*=masterSystemMessage] .messageGL span").remove()},e.SystemMessage=t}(ReiSys=ReiSys||{}),function(l){var e,r;function t(){this.flattenedObjectArray={}}e=(e=l.Platform||(l.Platform={})).Layout||(e.Layout={}),t.prototype.LoadMenu=function(e){for(var t=(this.leftSideMenuItems=e).length,i=new Array,a=0;a<t;a++){var n=new r(e[a]);i.push(n)}this.Model=ko.observableArray(i)},t.prototype.addItem=function(e,t){var i=this.getItem(e);null!=i?(t.Parent=i).ChildNavigationItems.push(t):""==e&&this.Model.push(t),null==this.getItem(t.MarkupId())&&(this.flattenedObjectArray[t.MarkupId()]=t),SetupButtonClickEventsForLeftSideMenu()},t.prototype.removeItem=function(e){var t=this.getItem(e);null!=t&&(null!=t.Parent?t.Parent.ChildNavigationItems:this.Model).remove(t),this.flattenedObjectArray[e]=void 0},t.prototype.setImageSrcForItem=function(e,t){e=this.getItem(e);null!=e&&e.IconImageUrl(t)},t.prototype.setImageToolTipItem=function(e,t){e=this.getItem(e);null!=e&&e.ImageToolTip(t),$(".tooltip").tipTip()},t.prototype.setImageAltTextItem=function(e,t){e=this.getItem(e);null!=e&&e.ImageAltText(t)},t.prototype.setImageForItem=function(e,t,i){e=this.getItem(e);null!=e&&(e.ImageAltText(t),e.IconImageUrl(i))},t.prototype.setTooltipForItem=function(e,t){e=this.getItem(e);null!=e&&e.ToolTip(t),$(".tooltip").tipTip()},t.prototype.setTextForItem=function(e,t){e=this.getItem(e);null!=e&&e.Text(t)},t.prototype.setDestinationForItem=function(e,t){e=this.getItem(e);null!=e&&e.Destination(t)},t.prototype.setVisibleForItem=function(e,t){e=this.getItem(e);null!=e&&e.Visible(t)},t.prototype.getItem=function(e){return l.Platform.Layout.LeftMenu.flattenedObjectArray[e]},t.prototype.hideMenu=function(){var e=$("#colleft"),t=$(".lmBase");0<e.length&&0<t.length&&(ko.cleanNode(t[0]),t.empty(),this.leftMenuInnerLayout=e.html(),e.hide(),e.empty())},t.prototype.showMenu=function(){var e=$("#colleft");this.leftMenuInnerLayout&&(e.html(this.leftMenuInnerLayout),ko.applyBindings(this,$(".lmBase")[0]),e.show(),SetupButtonClickEventsForLeftSideMenu(),SetUpLeftMenuEvents(),this.leftMenuInnerLayout=void 0)},t.prototype.expandMenu=function(){var e=$("#anchorExpand");e.is(":visible")&&e.click()},t.prototype.collapseMenu=function(){var e=$("#anchorCollapse");e.is(":visible")&&e.click()},t.prototype.setMenuTitle=function(e){$(".left_title").text(e)},t.prototype.getMenuTitle=function(){return $(".left_title").text()},t.prototype.disableLeftMenu=function(){var e=document.getElementById("colleft"),e=(e&&(e.style.display="none"),document.getElementById("colright"));e&&(e.style.marginLeft="-10px")},t.prototype.enableLeftMenu=function(){var e=document.getElementById("colright"),e=(e&&(e.style.marginLeft="180px"),document.getElementById("colleft"));e&&(e.style.display="block")},e.LeftSideMenu=t,r=function e(t,i){this.RoleId=ko.observable(t.RoleId),this.IconImageUrl=ko.observable(t.IconImageUrl),this.ImageAltText=ko.observable(t.ImageAltText),this.ImageToolTip=ko.observable(t.ImageToolTip),this.PopUp=ko.observable(t.PopUp),this.IsExpanded=ko.observable(t.IsExpanded),this.MarkupId=ko.observable(t.MarkupId),this.Class=ko.observable(t.Class),this.Target=ko.observable(t.Target),this.Text=ko.observable(t.Text),this.Destination=ko.observable(t.Destination),this.ToolTip=ko.observable(t.ToolTip),this.Enabled=ko.observable(t.Enabled),this.Visible=ko.observable(t.Visible);var a=t.ChildNavigationItems.length,n=new Array;if(this.Parent=i,0<a)for(var r=0;r<a;r++){var o=new e(t.ChildNavigationItems[r],this);n.push(o)}this.ChildNavigationItems=ko.observableArray(n),null!=this.MarkupId()&&""!=this.MarkupId()&&(l.Platform.Layout.LeftMenu.flattenedObjectArray[this.MarkupId()]=this)},e.LeftSideMenuItemObservablele=r,e.LeftMenu=new l.Platform.Layout.LeftSideMenu}(REISys=REISys||{}),function(d){var e;function t(){}function i(){}e=(e=d.Platform||(d.Platform={})).Layout||(e.Layout={}),t.getTitle=function(){return document.title},t.setTitle=function(e){var t=this.getTitle(),i=t.split("|"),a="";if(1<i.length)if(2<i.length)for(var n=i.length-1;n>i.length-3;n--)a=" | "+i[n]+a;else for(n=i.length-1;n>i.length-2;n--)a=" | "+i[n]+a;var r=" - List",o=" - Edit",l=" - Confirm",s=" - Delete",d=" - Cancel";0<t.indexOf(r)?e+=r:0<t.indexOf(" - Add")?e+=" - Add":0<t.indexOf(o)?e+=o:0<t.indexOf(l)?e+=l:0<t.indexOf(s)?e+=s:0<t.indexOf(d)&&(e+=d),document.title=e+" "+a},e.Window=t,i.getTitle=function(){return $(".main_title span").text()},i.setTitle=function(e){var t=$(".titleimg"),i=$(".main_title span"),a=" - List",n=" - Edit",r=" - Confirm",o=" - Delete",l=" - Cancel",s=d.Platform.Layout.Page.getTitle();0<s.indexOf(a)?e+=a:0<s.indexOf(" - Add")?e+=" - Add":0<s.indexOf(n)?e+=n:0<s.indexOf(r)?e+=r:0<s.indexOf(o)?e+=o:0<s.indexOf(l)&&(e+=l),i.html(e),i.prepend(t)},i.hideTitle=function(){$(".main_title span").hide()},i.showTitle=function(){$(".main_title span").show()},e.Page=i}(REISys=REISys||{});var __extends=this&&this.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function a(){this.constructor=e}e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},validaitonInvoker=(!function(e){e=e.Platform||(e.Platform={});function t(e){this.Visible=e}(e=(e=e.Layout||(e.Layout={})).Models||(e.Models={})).HideableControlModel=t,__extends(n,i=t);var i,a=n;function n(e){i.call(this,!1),this.Enabled=e||!1}e.DisableableControlModel=a,__extends(o,r=a);var r,a=o;function o(){r.call(this,!1),this.Id="",this.MarkupId="",this.Text="",this.Destination="",this.AccessKey="",this.ToolTip="",this.Class="",this.Target=""}e.BaseNavigationItemModel=a,__extends(s,l=a);var l,a=s;function s(){l.call(this),this.PrivilegeId=0,this.ResourceId="",this.ImageAltText="",this.ImageToolTip="",this.PopUp=!1,this.IsExpanded="",this.ChildNavigationItems=new Array}e.NavigationItemModel=s,__extends(u,d=t);var d,a=u;function u(){d.call(this,!1),this.CurrentMarkupId="",this.RootMarkupId="",this.Exception="",this.Roles=new Array,this.Items=new Array}e.SelectableNavigationControlModel=u}(REISys=REISys||{}),!function(u){var e=u.Platform||(u.Platform={});function t(e){var t=!1;e&&(t=e.Visible),this.Visible=ko.observable(t)}(e=(e=e.Layout||(e.Layout={})).ObservableModels||(e.ObservableModels={})).HideableControlModelObservable=t,__extends(n,i=t);var i,a=n;function n(e){i.call(this,e);var t=!0;e&&(t=e.Enabled),this.Enabled=ko.observable(t)}e.DisableableControlModelObservable=a,__extends(r,s=a);var s,a=r;function r(e){s.call(this,e);var t="",i="",a="",n="",r="",o="",l="";e&&(t=e.Id,i=e.MarkupId,a=e.Text,n=e.Destination,r=e.AccessKey,o=e.ToolTip,l=e.Class),this.Id=ko.observable(t),this.MarkupId=ko.observable(i),this.Text=ko.observable(a),this.Destination=ko.observable(n),this.AccessKey=ko.observable(r),this.ToolTip=ko.observable(o),this.Class=ko.observable(l),this.Target=ko.observable("")}e.BaseNavigationItemModelObservable=a,__extends(p,c=a);var c,o=p;function p(e){var t=this,i=(c.call(this,e),this.Model=e,this.Clickable=ko.observable(!0),this.ShowIcon=ko.observable(!1),this.IconBaseUrl=ReiSys.Utilities.Util.BaseUrl+"Platform/Include/Skins/"+ReiSys.Utilities.Util.ImagePath+"/Images/sidemenu.png",this.IconUrl=ko.computed({owner:this,read:function(){return t.ShowIcon()?t.IconBaseUrl:""},write:function(e){t.IconBaseUrl=e}}),this.Separator=ko.computed({owner:this,read:function(){return u.Platform.Layout.BreadCrumb.Separator}}),this.FinalToolTip=ko.computed({owner:this,read:function(){return t.ToolTip&&""==t.ToolTip()?t.Text():t.ToolTip()}}),0),a="",n="",r="",o=!0,l="";if(e){if(this.ChildNavigationItems=ko.observableArray(),e.ChildNavigationItems)for(var s=0;s<e.ChildNavigationItems.length;s++){var d=new p(e[s]);d.bid=Math.random(),this.ChildNavigationItems.push(d)}i=e.PrivilegeId,a=e.ResourceId,n=e.ImageAltText,r=e.ImageToolTip,o=e.PopUp,l=e.IsExpanded}this.PrivilegeId=ko.observable(i),this.ResourceId=ko.observable(a),this.ImageAltText=ko.observable(n),this.ImageToolTip=ko.observable(r),this.PopUp=ko.observable(o),this.IsExpanded=ko.observable(l),this.bid=Math.random()}e.NavigationItemModelObservable=o,__extends(d,l=t);var l,a=d;function d(e){if(l.call(this,e),this.Items=ko.observableArray(),this.CurrentMarkupId=ko.observable(),this.RootMarkupId=ko.observable(),this.Exception=ko.observable(),e){this.CurrentMarkupId(e.CurrentMarkupId),this.RootMarkupId(e.RootMarkupId);for(var t=0;t<e.Items.length;t++){var i=new o(e.Items[t]);this.Items.push(i)}this.Exception(e.Exception)}}e.SelectableNavigationControlModelObservable=d}(REISys=REISys||{}),!function(e){var t,i,a,n;function r(){n.apply(this,arguments)}function o(){i.apply(this,arguments)}function l(){a.apply(this,arguments)}t=(t=(t=(t=e.Platform||(e.Platform={})).Layout||(t.Layout={})).BreadCrumb||(t.BreadCrumb={})).Models||(t.Models={}),n=e.Platform.Layout.Models.NavigationItemModel,__extends(r,n),t.BreadCrumbNavigationItemModel=r,i=e.Platform.Layout.Models.SelectableNavigationControlModel,__extends(o,i),t.BreadCrumbModel=o,a=e.Platform.Layout.Models.SelectableNavigationControlModel,__extends(l,a),t.BreadcrumbSelectableNavigationControlModel=l}(REISys=REISys||{}),!function(r){var e,o;function t(e){if(o.call(this,e),this.dataModel=e){this.LeftNavigationDimensionItem=new r.Platform.Layout.ObservableModels.NavigationItemModelObservable(e.LeftNavigationDimensionItem),this.ParentPage=new r.Platform.Layout.ObservableModels.NavigationItemModelObservable(e.ParentPage);for(var t=0;t<this.Items().length;t++){var i=this.Items()[t],a=JSON.stringify(i.Model)==JSON.stringify(e.LeftNavigationDimensionItem),n=!a;i.ShowIcon(a),n=!("Browse"==i.Text()||!i.Enabled()&&r.Platform.Layout.BreadCrumb.AllowDisable)&&n,i.Clickable(n)}}}e=(e=(e=(e=r.Platform||(r.Platform={})).Layout||(e.Layout={})).BreadCrumb||(e.BreadCrumb={})).ObservableModels||(e.ObservableModels={}),o=r.Platform.Layout.ObservableModels.SelectableNavigationControlModelObservable,__extends(t,o),e.BreadcrumbSelectableNavigationControlModelObservable=t}(REISys=REISys||{}),!function(n){var e,r,t,i;function a(e,t){var i;return e&&""!=e?((i=new n.Platform.Layout.Models.NavigationItemModel).Text=e,i.Destination=t,i.Visible=!0,i.Enabled=!0,i.ToolTip=e,i.bid=Math.random(),new n.Platform.Layout.ObservableModels.NavigationItemModelObservable(i)):null}function o(){return r.Model.Items().length}function l(){}function s(){}function d(e,t){for(var i=r.Model.Items(),a=0;a<i.length;a++)if(t&&t.Compare&&"function"==typeof t.Compare&&t.Compare(e,r.Model.Items()[a]))return r.Model.Items()[a];return null}function u(e,t){var i=n.Platform.Layout.BreadCrumb.Model.Items();if(5<i.length)for(var a=e;a<i.length-t;a++)i[a].Visible(!i[a].Visible())}e=(e=n.Platform||(n.Platform={})).Layout||(e.Layout={}),(r=e.BreadCrumb||(e.BreadCrumb={})).Model=new n.Platform.Layout.BreadCrumb.ObservableModels.BreadcrumbSelectableNavigationControlModelObservable(new n.Platform.Layout.BreadCrumb.Models.BreadcrumbSelectableNavigationControlModel),r.AllowDisable=!1,r.Separator=" Â» ",r.addBreadCrumb=function(e,t){return null!=(e=a(e,t))&&r.Model.Items.push(e),e},r.addBreadCrumbAt=function(e,t,i){return null!=(t=a(t,i))&&r.Model.Items().length>e?(r.Model.Items.splice(e,0,t),t):null},r.removeLastItem=function(){0<r.Model.Items().length&&r.Model.Items.splice(r.Model.Items().length-1,1)},r.count=o,r.getBreadCrumbAt=function(e){var t=o();return 0<t&&e<t&&0<=e?r.Model.Items()[e]:null},l.prototype.Compare=function(e,t){return t&&e===t.Text()},t=l,s.prototype.Compare=function(e,t){return t&&e===t.Id()},i=s,r.findBreadCrumbById=function(e){return e&&""!=e?d(e,new i):null},r.findBreadCrumbItemByText=function(e){return d(e,new t)},r.removeBreadCrumbByText=function(e){var t=r.Model.Items(),i=r.findBreadCrumbItemByText(e);if(i)for(var a=0;a<t.length;a++)if(t[a]&&t[a].bid===i.bid){r.Model.Items.splice(a,1);break}},r.removeBreadCrumb=function(e){var t=r.Model.Items();if(e)for(var i=0;i<t.length;i++)if(t[i]&&t[i].bid===e.bid){r.Model.Items.splice(i,1);break}},r.collapseBreadCrumbs=function(e,t){u(e||1,t||2)},r.expandBreadCrumbs=function(e,t){u(e||1,t||2)}}(REISys=REISys||{}),!function(i){var e;((e=i.Platform||(i.Platform={})).RecentlyAccessed||(e.RecentlyAccessed={})).RecentlyAccessedDataModel=function(){var o=this;this.isLoaded=!1,this.localConsole=new i.Utilities.PlatformConsole,this.modelItems=ko.observableArray(),this.MapToDataModel=function(e){if(null!=e&&""!=e&&"undefined"!=e)for(var t=JSON.parse(e),i=0;i<t.length;i++){var a,n=new Object;for(a in t[i]){var r=null==t[i][a]||"undefined"==t[i][a]?"":t[i][a];n[a]=r}o.modelItems.push(n)}},this.DataBind=function(e,t){try{o.websiteUrl=t,o.userId=REISys.Platform.CurrentUserId,ko.applyBindings(o,e)}catch(e){o.localConsole.log(e)}},this.LoadData=function(){var e,t;!0!==o.isLoaded&&(o.isLoaded=!0,e=o.websiteUrl+"/Platform/Interface/Services/RecentlyAccessedService.aspx/LoadRecentlyAccessed",t='{ "userId":"'+o.userId+'" }',i.Utilities.Util.PostJsonToServiceAsync(e,t,function(e){o.MapToDataModel(e.d),$("#recentlyAccessedRoot > .reiflyovermenu-recentlyAccessed").each(function(e){var t=$(this).parent().attr("id"),t=($(this).fgmenu({content:$(this).next().html(),flyOut:!0,id:$(this).parent().attr("id")}),allUIMenus.find(t));null!=t&&"undefined"!=t&&t.showMenu()})},function(e,t,i){o.isLoaded=!1,o.localConsole.log(e.responseText)}))}}}(ReiSys=ReiSys||{}),!function(t){var e=t.BusinessLayer||(t.BusinessLayer={});function i(){this.Controls=new Array,this.Validity=a.Valid}e=(e=e.BusinessLogic||(e.BusinessLogic={})).Validation||(e.Validation={}),i.prototype.PopulateInvalid=function(e,t,i){this.Message=e,this.ControlId=t,"WARNING"==i?this.Validity=a.InValidWithWarning:"YES"==i?this.Validity=a.InValidWithException:null!=i&&"NO"!=i||(this.Validity=a.InValid),this.SetAltText(),this.SetImage(),this.SetTitle()},i.prototype.SetControls=function(e){this.Controls=e},i.prototype.AddControl=function(e){this.Controls.push(e)},i.prototype.GetControls=function(){return this.Controls},i.prototype.SetAltText=function(){var e="";switch(this.Validity){case t.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValid:e="Rigid Error: Data will not be saved until this error is fixed.";break;case t.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValidWithException:e="Non-Rigid Error: Section will not be completed until this error is fixed.";break;case t.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValidWithWarning:e="Warning: Data may be saved but handling this warning is recommended."}this.AltText=e},i.prototype.SetImage=function(){var e="";switch(this.Validity){case t.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValid:e="rigid";break;case t.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValidWithException:e="non-rigid";break;case t.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValidWithWarning:e="explain"}this.Image=t.Utilities.Util.BaseImagePath+"/Platform/Include/Skins/"+t.Utilities.Util.ImagePath+"/Images/"+e+".png"},i.prototype.SetTitle=function(){var e="";switch(this.Validity){case t.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValid:e="Rigid Error: Data will not be saved until this error is fixed.";break;case t.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValidWithException:e="Non-Rigid Error: Section will not be completed until this error is fixed.";break;case t.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValidWithWarning:e="Warning: Data may be saved but handling this warning is recommended."}this.Title=e},e.ValidationResult=i,n.Valid="Valid",n.InValid="Invalid",n.InValidWithException="InValidWithException",n.InValidWithWarning="InValidWithWarning";var a=n;function n(){}e.ValidationResultStatus=a}(ReiSys=ReiSys||{}),!function(n){var e=n.BusinessLayer||(n.BusinessLayer={});function t(){this.HasValidationBeenRun=!1,this.IsValidationSummaryDisabled=!1}e=(e=e.BusinessLogic||(e.BusinessLogic={})).Validation||(e.Validation={}),t.prototype.RenderFieldLevel=function(e){this.HasValidationBeenRun&&(n.Utilities.Util.RemoveClassFromAllControls("fieldreq"),n.Utilities.Util.RemoveAllControlsByClass("ClientValidationClass"));for(var t=0;t<e.length;t++){var i,a=e[t];a.Validity!=n.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.Valid&&(this.HasValidationBeenRun=!0,null!=a.ControlId?(this.FieldLevelValidations++,i=a.GetControls(),this.HighlightControls(i),this.PopulatePlaceHolder(a)):this.SummaryLevelValidations++)}},t.prototype.PopulatePlaceHolder=function(e){var t=n.Utilities.Util.GetControl(e.ControlId),i=n.Utilities.Util.GetControlType(t);if("radio"!=i&&"checkbox"!=i)null!=(t=1<t.length?n.Utilities.Util.EndsWith(t[0].id,"_Valid")?($(t[0]).remove(),$(t[1])):n.Utilities.Util.EndsWith(t[0].id,"_wrapper")?$(t[1]):$(t[0]):t).attr("type")?(t.before($(this.MakFieldHeader(e))),e.ControlId="-"+e.ControlId,t.addClass("fieldreq")):(t=n.Utilities.Util.GetInputControlFullId(e.ControlId),e.ControlId=t.attr("id"),t.removeClass("fieldreq"),t.before($(this.MakFieldHeader(e))));else if("radio"==i||"checkbox"==i){for(var a=1;a<t.length;a++)n.Utilities.Util.AddClass(t[a].id,"fieldreq");$(t[0]).before($(this.MakFieldHeader(e))),e.ControlId="-"+e.ControlId,$(t[0]).addClass("fieldreq")}},t.prototype.HighlightControls=function(e){for(var t=0;t<e.length;t++){var i=$("#"+e[t]);(i.hasClass("RadEditor")||i.hasClass("RadComboBox")?i:$("#"+e[t]+"_wrapper").hasClass("RadPicker")?$("#"+e[t]+"_wrapper"):("radio"!=i.attr("type")&&i.attr("type"),i)).addClass("fieldreq")}},t.prototype.MakFieldHeader=function(e){var t='<div id="-'+e.ControlId+'" class="fielderr_info ClientValidationClass">';return(t+='<span tabindex="0" class="tooltip"><img class="valimg tooltip" title="'+e.Title+'" alt="'+e.AltText+'" src="'+e.Image+'" />')+e.Message+'</span><span class="topicon_area">'+"("+'<a class="topicon tooltip"  href="javascript:void(0)"  onclick="$(\'.msgFail\').focus(); return false;">'+('<img alt="Go to error summary" src="'+n.Utilities.Util.BaseImagePath+"/Platform/Include/Skins/"+n.Utilities.Util.ImagePath+'/images/errortop.png"/>')+"</a>"+")"+"</span>"+"</div > "},t.prototype.RenderSummaryLevel=function(e,t){null==t&&(t="clientValidationContainer");t=$('[id$="'+t+'"]');ko.applyBindings({ValidationResults:e},$(".fielderr_list",t)[0]),ko.applyBindings({ValidationResults:e},$(".val_list",t)[0]),0<this.FieldLevelValidations?($(".fielderr_head",t).show(),$(".fielderr_ins",t).show()):($(".fielderr_head",t).hide(),$(".fielderr_ins",t).hide()),0<this.FieldLevelValidations&&0<this.SummaryLevelValidations?$(".val_line",t).show():$(".val_line",t).hide()},t.prototype.RenderValidations=function(e,t){return this.FieldLevelValidations=0,this.SummaryLevelValidations=0,i.ResetCount(),this.RenderFieldLevel(e),this.RenderSummaryLevel(e,t),(0<this.FieldLevelValidations||0<this.SummaryLevelValidations)&&!this.IsValidationSummaryDisabled?this.ShowValidationSummary(t):this.HideValidationSummary(t),$(".tooltip").tipTip(),this.FieldLevelValidations+this.SummaryLevelValidations},t.prototype.ShowValidationSummary=function(e){null==e&&(e="clientValidationContainer");e=$('[id$="'+e+'"]');$("#valBase",e).show(),$(".topicon_area",e).show()},t.prototype.HideValidationSummary=function(e){null==e&&(e="clientValidationContainer");e=$('[id$="'+e+'"]');$("#valBase",e).hide(),$(".topicon_area",e).hide()},e.ValidationRenderer=t,a.GetErrorCount=function(){var e=this.ErrorCount;return this.ErrorCount++,e},a.ResetCount=function(){this.ErrorCount=1},a.ErrorCount=1;var i=a;function a(){}e.ErrorCounter=i}(ReiSys=ReiSys||{}),!function(o){var e,t,l;function i(){this.ValidationRenderer=new t.ValidationRenderer,this.ValidationInvokeEvent=new o.Utilities.PlatformEvent}e=(e=o.BusinessLayer||(o.BusinessLayer={})).BusinessLogic||(e.BusinessLogic={}),t=e.Validation||(e.Validation={}),i.prototype.InvokeValidationWithoutRender=function(e){return this.PerformInvokeValidation(e,!1,null)},i.prototype.InvokeValidation=function(e){return this.PerformInvokeValidation(e,!0,null)},i.prototype.InvokeValidationWithCustomSummarySection=function(e,t){return this.PerformInvokeValidation(t,!0,e)},i.prototype.PerformInvokeValidation=function(t,e,i){var a;try{this.ErrorsOnPage=0,this.IsValid=!0,this.IsInValidWithException=!0,this.IsInValidWithWarning=!0;var n=ruleEngine.Validate(t);this.ValidationInvokeEvent.raise(this,new l(n,t));try{for(var r=0;r<n.length;r++)null!=n[r].Validity&&(n[r].Validity==o.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValid&&(this.IsValid=!1),n[r].Validity==o.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValidWithException&&(this.IsInValidWithException=!1),n[r].Validity==o.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValidWithWarning&&(this.IsInValidWithWarning=!1),n[r].Validity!=o.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.Valid)&&this.ErrorsOnPage++}catch(e){PlatformConsole.log("InvokeValidation:"+t+" "+e)}a=this.ErrorsOnPage,e&&0<(a=this.ValidationRenderer.RenderValidations(n,i))&&(null==i?$(".msgFail"):$(".msgFail",$("#"+i))).focus()}catch(e){PlatformConsole.log("InvokeValidation. "+t+" "+e)}return a},i.prototype.InvokeValidateOnly=function(t){try{this.ErrorsOnPage=0,this.IsValid=!0,this.IsInValidWithException=!0,this.IsInValidWithWarning=!0;var e=ruleEngine.Validate(t);this.ValidationInvokeEvent.raise(this,new l(e,t));try{for(var i=0;i<e.length;i++)null!=e[i].Validity&&(e[i].Validity==o.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValid&&(this.IsValid=!1),e[i].Validity==o.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValidWithException&&(this.IsInValidWithException=!1),e[i].Validity==o.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.InValidWithWarning&&(this.IsInValidWithWarning=!1),e[i].Validity!=o.BusinessLayer.BusinessLogic.Validation.ValidationResultStatus.Valid)&&this.ErrorsOnPage++}catch(e){PlatformConsole.log("InvokeValidateOnly: "+t+" "+e)}!1===this.IsValid&&validaitonInvoker.Render(e)}catch(e){PlatformConsole.log("InvokeValidateOnly. "+t+" "+e)}return e},i.prototype.InvokeRenderOnly=function(e){var t;try{t=validaitonInvoker.Render(e)}catch(e){PlatformConsole.log("InvokeRenderOnly: "+e)}return t},i.prototype.Render=function(e){e=this.ValidationRenderer.RenderValidations(e);return 0<e&&$(".msgFail").focus(),e},t.Invoker=i,l=function(e,t){this.ValidationResults=e,this.GroupName=t},t.InvokerEventArgs=l}(ReiSys=ReiSys||{}),new ReiSys.BusinessLayer.BusinessLogic.Validation.Invoker);function EnableButton(e){setTimeout(function(){$(e).removeAttr("disabled"),$(e).hasClass("hrsaSkinneddisbled")&&($(e).addClass("hrsaSkinnedButton"),$(e).removeClass("hrsaSkinneddisbled"))},10)}$('input[CausesValidation="true"]').on("click",function(e){if(0!=validaitonInvoker.InvokeValidation($(this).attr("ValidationGroup")))return EnableButton(this),!1}),$('a[CausesValidation="true"]').on("click",function(e){if(0!=validaitonInvoker.InvokeValidation($(this).attr("ValidationGroup")))return!1});var pageActionButtonButtonClicked=!1;function TransactionValidation(){$.get(REISys.Platform.WebRoot+"Platform/Interface/Validation/overlayMarkup.html",function(e){$("#overlayExplain").remove(),$("#overlayIgnoreConfirm").remove(),$("#ajaxMessage").remove();e=String.format(e,"{0}",REISys.Platform.WebRoot+"/Platform/Include/Skins/"+REISys.Platform.Theme+"/Images/loader2.GIF");$("body").append(e),REISys.Platform.TransactionalValidator.Init()})}$("input[id*=ddlGo]").click(function(e){pageActionButtonButtonClicked=!0,0<validaitonInvoker.ErrorsOnPage&&EnableButton(this)}),$("#aspnetForm").submit(function(e){if(pageActionButtonButtonClicked){if(pageActionButtonButtonClicked=!1,0<validaitonInvoker.ErrorsOnPage)return!1;var t=$("select[id*=ddlActions]"),t=$("option:selected",t),i=Boolean(t.attr("CausesValidation")),t=t.attr("ValidationGroup");if(i&&0!=validaitonInvoker.InvokeValidation(t))return!1}return!0}),Sys.Application.add_load(function(){Sys.WebForms.PageRequestManager.getInstance().get_isInAsyncPostBack()&&TransactionValidation()}),$(document).ready(function(){jQuery(function(){0<jQuery("a[type='TranValdExists']").length&&TransactionValidation()})});var menuId,expandMainAded=!1,ContextMenuOnClick=(REISys.Platform.TransactionalValidator={ValidationStatus:function(e){var t=new Array;return t.Fixed=0,t.Explained=2,t.Hidden=3,t.Pending_Review=1,t[e]},oldHtml:"",overlayExplained:void 0,explainLink:void 0,baseUrl:REISys.Platform.WebRoot+"Platform/WebServices/ValidationService.svc",Init:function(){var t=$telerik.$;t("a.expandValidation").each(function(){t(this).click(function(){var e=$(this);"[-]"===e.html()?(e.html("[+]"),e.next().hide()):(e.html("[-]"),e.next().show())})}),expandMainAded||(expandMainAded=!0,t("#showAllExplain").on("click",function(){var e=$(this);"Show All Explanations"===e.html()?(e.html("Hide All Explanations"),t("a.expandValidation").each(function(){var e=$(this);"[+]"===e.html()&&(e.html("[-]"),e.next().show())})):(e.html("Show All Explanations"),t("a.expandValidation").each(function(){var e=$(this);"[-]"===e.html()&&(e.html("[+]"),e.next().hide())}))})),$("a[type='explainLink']").overlay({mask:{color:"#000",loadSpeed:200,opacity:.3},closeOnClick:!1,closeOnEsc:!0,onBeforeLoad:function(){this.getOverlay().find(".close").attr("tabindex","0"),this.getOverlay().find(".close").keydown(function(e){13===e.keyCode&&n.close()});var a=this.getOverlay().find(".contentWrapExplain"),e=(REISys.Platform.TransactionalValidator.overlayExplained=this,$("#ajaxMessage").html()),t=String.format(e,"Loading...."),n=(a.html(t),this),r=(n.onClose=function(){a.html(t)},n.onError=function(){alert("there is an error")},$.query.load(this.getTrigger().attr("href")));explainLink=this.getTrigger(),a.load(this.getTrigger().attr("href")+"&showOverlay=true #explainDivToLoad",function(e,t,i){"error"==t?a.html(e):(t=$("div#"+r.get("dId")),$(".closeOverlay",this).click(function(){n.close()}),0==t.children("span[style]").length?$("#validationMessage").html($("<div>").append(t.clone()).remove().html()):$("#validationMessage").html($("<div>").append(t.clone().children("span[style]").empty().parent()).remove().html()),$(".valimg.tooltip",$("#validationMessage")).attr("title",valTitleattributes[r.get("dId")]),$(".valimg.tooltip",$("#validationMessage")).tipTip(),$("#valiMessage").hide(),REISys.Platform.TransactionalValidator.ExplainLoad(r,explainLink),$("a.close","#overlayExplain").focus())})}}),oldHtml=$("#messageDiv",$("#overlayIgnoreConfirm")).html();$("a[type='ignoreLink']").overlay({mask:{color:"#000",loadSpeed:200,opacity:.3},closeOnClick:!1,closeOnEsc:!0,onLoad:function(){var t=this,i=this.getTrigger().attr("href");$(".closeOverlay",$(this.getTrigger().attr("rel"))).click(function(){t.close()}),$(".yesButton",$(this.getTrigger().attr("rel"))).unbind("click"),$(".yesButton",$(this.getTrigger().attr("rel"))).click(function(e){REISys.Platform.TransactionalValidator.ignoreValidationYes(this,t,i,e)})}})},ignoreValidationYes:function(e,t,i,a){var n=t.getTrigger(),r=n.attr("rel"),o=$("#messageDiv",r),i=(o.html(String.format($("#ajaxMessage").html(),"Processing ....")),$("input",r).hide(),$.query.load(i)),l={validation:{ValidationId:i.get("id"),GroupId:i.get("gId"),PageId:i.get("pId"),ResourceValue:i.get("rv"),ResourceTypeCode:i.get("rtc"),Status:REISys.Platform.TransactionalValidator.ValidationStatus("Hidden"),Explanation:"  ",UserId:REISys.Platform.CurrentUserId}};REISys.Platform.TransactionalValidator.callProxy(n,l,o,t,r,i),a.preventDefault()},callProxy:function(i,e,a,n,r,o){$("div#"+o.get("dId"));new REISys.Platform.Util.ServiceProxy(REISys.Platform.TransactionalValidator.baseUrl).invoke("IgnoreValidation",e,function(e){n.onClose=function(){a.html(oldHtml);var e,t=o.get("pId"),t=$('td[PageId="'+t+'"]');null!=t&&((0<$("#overridewarning").length?i.parents("tr").find("div.fielderr_info"):i.parents("tr")).hide(),null!=(e=t.parents("tr")))&&e.nextUntil(".rgGroupHeader").filter(":visible").length<=0&&t.parents("tr").hide(),i.parents("li").hide(),i.parents("div.fielderr_info").hide(),$("input",r).show(),$(n).unbind("onClose")},n.close()},function(e){null==e.WebIgnoreValidationResult?a.html("Error:: "+e.Message):a.html("Error:: "+e.WebIgnoreValidationResult),n.onClose=function(){a.html(oldHtml),$("input",r).show(),$("#noButton",r).attr("value","No"),$(n).unbind("onClose")},$("#noButton",r).attr("value","Close"),$("#noButton",r).show()})},ExplainLoad:function(a,n){$("input[id$='saveContBtn']").click(function(e){e.preventDefault(),REISys.Platform.TransactionalValidator.TranObj={validation:{ValidationId:a.get("id"),GroupId:a.get("gId"),PageId:a.get("pId"),ResourceValue:a.get("rv"),ResourceTypeCode:a.get("rtc"),Explanation:"",Status:REISys.Platform.TransactionalValidator.ValidationStatus("Explained"),UserId:REISys.Platform.CurrentUserId}};var t=new REISys.Platform.Util.ServiceProxy(REISys.Platform.TransactionalValidator.baseUrl),i=$("textarea[id$='commentsRichTextbox']").val();0==i.length?($("#valiMessage").show(),$("#valiMessage label").text("Provide Comments.")):500<i.length?($("#valiMessage").show(),$("#valiMessage label").text("Provide up to 500 characters for comments.")):(REISys.Platform.TransactionalValidator.TranObj.validation.Explanation=i,t.invoke("ExplainValidation",REISys.Platform.TransactionalValidator.TranObj,function(e){REISys.Platform.TransactionalValidator.overlayExplained.close();var t,i=a.get("pId"),i=$('td[PageId="'+i+'"]');null!=i&&((0<$("#overridewarning").length?n.parents("div.fielderr_info"):n.parents("tr")).hide(),null!=(t=i.parents("tr")))&&t.nextUntil(".rgGroupHeader").filter(":visible").length<=0&&i.parents("tr").hide(),n.parents("li").hide(),n.parents("div.fielderr_info").hide()},function(e){$(".contentWrapExplain").html(e.Message),$("#closeExplained",$(".contentWrapExplain")).click(function(){REISys.Platform.TransactionalValidator.overlayExplained.close()})}),i=$("#ajaxMessage").html(),t=String.format(i,"Processing...."),$(".contentWrapExplain").html(t),e.preventDefault())})}},new GlobalPlatformEvent("ContextMenuClick"));function DisplayContextMenu(e,t,i,a,n,r){var o,l,s,d,u=$("[id$='"+t+"']"),t=document.body.scrollTop||document.documentElement.scrollTop,c=document.body.scrollLeft||document.documentElement.scrollLeft;null!=e&&(o=u.css("display"),u.css("display","inline"),u.css("left",e.left),u.css("top",e.top),("up"==i||"auto"==i&&parseInt(u.css("top"))+u.outerHeight(!0)>$(window).height())&&u.css("top",parseInt(u.css("top"))-u.height()),("left"==a||"auto"==a&&parseInt(u.css("left"))+u.outerWidth(!0)>$(window).width())&&u.css("left",parseInt(u.css("left"))-u.width()),parseInt(u.css("left"))+u.width()-c>$(window).width()&&u.css("left",parseInt(u.css("left"))-(parseInt(u.css("left"))+u.width()-c-$(window).width()+5)),parseInt(u.css("top"))+35+u.outerHeight(!0)-t>$(window).height()&&u.css("top",parseInt(u.css("top"))-(parseInt(u.css("top"))+u.outerHeight(!0)-t+35-$(window).height())),u.css("display",o),$("ul.cmlevel2").hide(),$("ul.cmlevel3").hide(),$("ul.cmlevel4").hide(),u.slideDown(200).show(),(l=$("*",u).filter(":focusable:first")).off("keydown"),l.off("keyup"),$('[id="'+n+'"]').off("keydown"),$('[id="'+n+'"]').on("keydown",function(e){switch(GetCharCode(e)){case 27:u.slideUp(200);break;case 40:return l.focus(),!1}}),$("li.cmItem > a",u).each(function(){$(this).off("keydown")}),$("*",u).filter(":focusable").each(function(){$(this).on("keydown",function(e){27===GetCharCode(e)&&(u.slideUp(200),$('[id="'+n+'"]').focus())})}),s=!1,d=$("*",u).filter(":focusable:last"),$("li.cmItem > a",u).each(function(){$(this).on("keydown",function(e){switch(GetCharCode(e)){case 9:s&&l[0]==this&&u.slideUp(200);break;case 27:u.slideUp(200),$('[id="'+n+'"]').focus();break;case 37:break;case 38:return(l[0]==this?(u.slideUp(200),$('[id="'+n+'"]')):(t=$(this).parent(),$("a:first",findPrev(t)))).focus(),PlatformConsole.log("Up pressed"),!1;case 39:break;case 40:var t=$(this).parent();return $("a:first",findNext(t)).focus(),d[0]==this&&(u.slideUp(200),$('[id="'+n+'"]').focus()),PlatformConsole.log("down pressed"),!1;case 16:s=!0}}),$(this).on("keyup",function(e){16===GetCharCode(e)&&(s=!1)})}),l.on("keydown",function(e){switch(GetCharCode(e)){case 9:s&&u.slideUp(200);break;case 16:s=!0}}),l.on("keyUp",function(e){16===GetCharCode(e)&&(s=!1)}),d)&&(d.bind("keydown.cmFocusLost",function(e){switch(GetCharCode(e)){case 9:s||(u.slideUp(200),$(this).unbind("keydown.cmFocusLost"));break;case 40:return u.slideUp(200),$(this).unbind("keydown.cmFocusLost"),!1;case 16:s=!0}}),d.on("keyup",function(e){16===GetCharCode(e)&&(s=!1)}))}function findNext(e){var t,i=$("li.cmItem:first",e);return i=0===i.length&&0===(i=e.next("li.cmItem").has("a")).length&&(e.nextAll().not("div.cmSeperator,li.cmGroupHeader, li.cmHeader").has("a").each(function(e){var t=$(this);return t.hasClass("cmItem")?(i=t,!1):0===(i=$('li.cmItem:has("a"):first',t)).length&&void 0}),0===i.length)&&(e.parent().nextAll().not("div.cmSeperator,li.cmGroupHeader, li.cmHeader").has("a").each(function(e){var t=$(this);return t.hasClass("cmItem")?(i=t,!1):0===(i=$('li.cmItem:has("a"):first',t)).length&&void 0}),0===i.length)&&((t=e.parent()).hasClass("cmlevel4")||t.hasClass("cmlevel3")||t.hasClass("cmlevel2")||t.hasClass("cmlevel1"))?FindNextExcludeCurrent(t,e):i}function FindNextExcludeCurrent(e,i){var a;return e.nextAll().not("div.cmSeperator,li.cmGroupHeader, li.cmHeader").not(i).has("a").each(function(e){var t=$(this);return t.hasClass("cmItem")?a=t:0!==(items=$("li.cmItem",t).not(i).has("a")).length&&(a=items.first()),!1}),a=void 0!==a&&0!==a.length||e.hasClass("cmlevel1")?a:FindNextExcludeCurrent(e.parent(),i)}function findPrev(e){var t,i=e.prev("li.cmItem").has("a");return i=0===i.length&&(e.prevAll().not("div.cmSeperator,li.cmGroupHeader, li.cmHeader").has("a:visible").each(function(e){var t=$(this);return t.hasClass("cmItem")?(i=t,PlatformConsole.log("First CM item"),!1):0!==(i=$('li.cmItem:has("a"):visible:last',t).has("a")).length?(PlatformConsole.log("Prevall CM item"),!1):void 0}),0===i.length)&&(e.parent().prevAll().not("div.cmSeperator,li.cmGroupHeader, li.cmHeader").has("a:visible").each(function(e){var t;if(0===i.length)return(t=$(this)).hasClass("cmItem")?(i=t,PlatformConsole.log("parent First CM item"),!1):(i=$("li.cmItem:visible",t).has("a:visible").last(),PlatformConsole.log($("li.cmItem:visible",t).has("a:visible").length),0!==i.length?(PlatformConsole.log("Parent prev all CM item"),!1):void 0)}),0===i.length)&&((t=e.parent()).hasClass("cmlevel4")||t.hasClass("cmlevel3")||t.hasClass("cmlevel2")||t.hasClass("cmlevel1"))?FindPrevExcludeCurrent(t,e):i}function FindPrevExcludeCurrent(e,i){var a;return e.prevAll().not("div.cmSeperator,li.cmGroupHeader, li.cmHeader").not(i).has("a:visible").each(function(e){var t=$(this);return t.hasClass("cmItem")?(a=t,PlatformConsole.log("Parent Parent First prev all CM item")):0!==(items=$("li.cmItem:visible",t).not(i).has("a")).length&&(a=items.last(),PlatformConsole.log("Parent parent prev all CM item")),!1}),a=void 0!==a&&0!==a.length||e.hasClass("cmlevel1")?a:FindPrevExcludeCurrent(e.parent(),i)}function Toggler(e){if(this.jQueryObj=e,!this.jQueryObj)throw"Must give jQueryObj";if(null==$("input[id*=togglerStateField]",this.jQueryObj)[0]||null==$("input[id*=togglerStateField]",this.jQueryObj)[0])throw"Must give valid Toggler Object"}function FindToggler(e){return new Toggler($("[id*="+e+"]"))}function ClickToggler(e){var t,i,a=$("input[id*=togglerStateField]",e);"readOnly"==a[0].value||$(e.target).is("a, input[type=image]")||(t=!0,i=e.next("div"),a[0].value=i.is(":visible")?"hide":"show",i.slideToggle("fast"),i=$("img[id*=togglerArrow]",e),"show"==a[0].value?(i.attr("class",i.attr("class").replace("right","left")),i.attr("alt","Collapse"),i.attr("src",i.attr("src").replace("right","down")),i.attr("title","Collapse"),i.tipTip(),i.removeAttr("title"),t=!1,ExpandTogglerEvent.raise(e,null)):"hide"==a[0].value&&(i.attr("class",i.attr("class").replace("left","right")),i.attr("alt","Expand"),i.attr("src",i.attr("src").replace("down","right")),i.attr("title","Expand"),i.show(),i.tipTip(),i.removeAttr("title"),CollapseTogglerEvent.raise(e,null)),i=(a=$(".linkheader",e)).attr("headercollapsedtitle"),t.length&&i?a.text(i):a.text(a.attr("HeaderTitle")),a.truncate($(this).attr("maxtextlength")||125,{chars:/\s/,trail:[" <font size=1>(<a href='#' class='truncate_show'>"+($(this).attr("collapsedtext")||"+ View More")+"</a>) </font>","<font size=1>&nbsp;(<a href='#' class='truncate_hide'>"+($(this).attr("expandedtext")||"- View Less")+"</a>) </font>"]}))}$(document).mouseup(function(e){menuId&&$("[id$='"+menuId+"']").slideUp(200)}),$(".showContext").live("click",function(e){ContextMenuOnClick.raise($(this),null);var t,i,e=window.event||e,a=(e.target||(e.target=e.srcElement),$(e.target)),n=$("[id$='"+e.target.id+"'].showContext");0==n.length?n=$("[id$='"+e.target.parentNode.id+"'].showContext"):a=$(e.target).children(0),n&&0<n.length&&(t=n.attr("rel"),menuId=t,e={top:$("[id$='"+e.target.id+"']").position().top,left:$("[id$='"+e.target.id+"']").position().left-125},i=n.attr("orientation-horizontal"),n=n.attr("orientation-vertical"),e.left+=a.width(),"up"==n?e.top-=7:e.top+=7,DisplayContextMenu(e,t,n,i,$(this).attr("id"),$(this)),$(".tooltip").tipTip())}),$(".rei-toggler").live("click",{},function(e){"readOnly"!=$("input[id*=togglerStateField]",$(this))[0].value&&("true"==$(this).attr("mextoggling")&&MutuallyExclusiveToggler($(this)),ClickToggler($(this)))}),$(".personal-comment-cancel").live("click",{},function(){var e=$(this).parents(".toggler-body")[0],t=$(e).prev("div"),i=($(".left-arrow, .right-arrow",t).toggle(),$(".personal-comment-text",e).text());$(".personal-comment-edit",e).val($.trim(i)),$(".personal-comment-edit-mode",e).hide(),$(e).find(".personal-comment-display-mode").show(),$(".toggler-header-image",t).fadeIn()}),$(".toggler-header-image").live("click",{},function(e){var t,i,a,n;return!$(this).attr("clickable")&&(t=$(this).parents(".rei-toggler")[0],i=$(t).next("div"),a=$(this).find("#headerImage").context,n=t.className.split(" ")[1],$(".left-arrow",t).show(),$(".right-arrow",t).hide(),"personal-comment"==n?(i.slideDown(),-1<a.className.indexOf("disable")?(a.src=disableImage(!0,a.src),$(this).css("cursor","default").attr("clickable","true")):$(this).fadeOut(),i.find(".personal-comment-display-mode").hide(),i.find(".personal-comment-edit-mode").show(),!1):void 0)}),$(".rei-toggler-initiallyCollapsed").hide(),$(".rei-togglerImages img[id$=togglerLeftArrow]").each(function(){"collapse"==$(this).attr("data")&&$(this).hide()}),$(".rei-togglerImages img[id$=togglerRightArrow]").each(function(){"show"==$(this).attr("data")&&$(this).show()}),Sys.Application.add_load(function(){$(".togglerKeyboardImageHandle").keydown(function(e){if(13==e.keyCode)return $(".toggler-header-image",$(this)).click(),!1})}),$(".togglerKeyboardHandle").keydown(function(e){if(13==e.keyCode)return"readOnly"!=$("input[id*=togglerStateField]",$(this.parentNode.parentNode))[0].value&&("true"==$(this.parentNode.parentNode).attr("mextoggling")&&MutuallyExclusiveToggler($(this.parentNode.parentNode)),ClickToggler($(this.parentNode.parentNode))),$(this).children("img:visible").trigger("mouseover"),!1}),$(".togglerKeyboardHandle").focus(function(){$(this).children("img:visible").trigger("mouseover")}),$(".togglerKeyboardHandle").blur(function(){$(this).children("img:visible").trigger("mouseout")}),Toggler.prototype.ExpandToggler=function(){"show"!=$("input[id*=togglerStateField]",this.jQueryObj)[0].value&&ClickToggler(this.jQueryObj)},Toggler.prototype.CollapseToggler=function(){"hide"!=$("input[id*=togglerStateField]",this.jQueryObj)[0].value&&ClickToggler(this.jQueryObj)},Toggler.prototype.GetTogglerState=function(){return $("input[id*=togglerStateField]",this.jQueryObj)[0].value},Toggler.prototype.MakeTogglerReadOnly=function(){var e;"readOnly"!=$("input[id*=togglerStateField]",this.jQueryObj)[0].value&&(ExpandTogglerEvent=new GlobalPlatformEvent("ExpandTogglerEvent"),$("input[id*=togglerStateField]",this.jQueryObj)[0].value="readOnly",(e=$('img[id*="togglerArrow"]',this.jQueryObj)).hide(),e.parent().hide(),this.ExpandToggler())};var ExpandTogglerEvent=new GlobalPlatformEvent("ExpandTogglerEvent"),CollapseTogglerEvent=new GlobalPlatformEvent("CollapseTogglerEvent");function disableImage(e,t){if(e){for(var i=t.split("."),a=i.length,n=0;n<a;n++)n==a-2&&(i[n]+="disabled");return i.join(".")}return t.split("disabled").join()}function MutuallyExclusiveToggler(e){var t=e.attr("mexgroupname");$('[mexgroupname *= "'+t+'"]').each(function(){$(this).attr("id")!=e.attr("id")&&($(this).next("div").is(":visible")?$(this).attr("toggled","true"):e.removeAttr("toggled"),ClickToggler($(this)))})}var currentIncrement=0;function SetFontSize(e){isNaN(e)&&(e=0),document.body.style.fontSize=12+e+"px",jQuery(".fontselected").removeClass("fontselected"),jQuery("[title="+e+"]").parent().addClass("fontselected"),setCookie("fontSizeAdjustment",e,180,"/")}function setPastedTextFontSize(e,t,i,a){var n=t.get_value(),n=$("<div>"+n+"</div>");$("*",n).css({fontSize:i,"font-family":a}),t.set_value(n.html())}function newurlnamespace(e){for(var t,i=e.split("."),a=window,n=0,r=i.length;n<r;n++)a[t=i[n]]=a[t]||{},a=a[t];return a}jQuery(function(){var e,t={".fontflyout_menu":[,12]};for(e in t){var i=t[e],a=(2!=i.length&&alert("ERROR: setting font size restrictions"),i[0]||6),n=i[1]||32;jQuery(e).each(function(){this.minFontSize=a,this.maxFontSize=n})}var r=getCookie("fontSizeAdjustment");(null!=r?(SetFontSize(parseInt(r)),jQuery("small[title="+r+"]").parent(".fontsizer")):jQuery(".fontsizer").filter('[title="defaultFont"]')).addClass("fontselected"),jQuery(".fontsizer").click(function(){SetFontSize(parseInt(jQuery("small",this).attr("title")))}),jQuery(".fontreset").click(function(){var e=jQuery('[title="defaultFont"]'),e=parseInt(e.children("small").attr("title"));SetFontSize(e),setCookie("fontSizeAdjustment",e,180,"/")})});var urlNS=newurlnamespace("REISys.Platform.Web.url"),urlService=function(){};function searchnamespace(e){for(var t,i=e.split("."),a=window,n=0,r=i.length;n<r;n++)a[t=i[n]]=a[t]||{},a=a[t];return a}function newnamespace(e){for(var t,i=e.split("."),a=window,n=0,r=i.length;n<r;n++)a[t=i[n]]=a[t]||{},a=a[t];return a}urlService.Type="POST",urlService.Url="",urlService.ContentType="application/json",urlService.DataType="JSON",urlService.getUrlMethod="Platform/WebServices/UrlJWebService.svc/GetUrl",urlService.getGuidMethod="Platform/WebServices/UrlJWebService.svc/GetGuid",urlNS.testUrlSvc=function(){var e=urlNS.GetUrl("815A84F5-726A-455A-8682-F9C0ABEEE9E6");return console.log(e),!1},urlNS.GetUrl=function(e){urlNS.IsSSL()||PlatformConsole.log("urlNS.GetUrl. Enable SSL"),urlService.Url=REISys.Platform.WebsiteUrl+urlService.getUrlMethod;var a=JSON.stringify({urlId:e}),t="";return $.ajax({type:urlService.Type,dataType:"JSON",url:urlService.Url,processData:!1,contentType:urlService.ContentType,data:a,async:!1,success:function(e){t=e.Url},error:function(e,t,i){PlatformConsole.log("urlNS.GetUrl error: "+urlService.Url+" "+t+" - "+i+" - "+a)}}),t},urlNS.GetGuid=function(){urlNS.IsSSL()||PlatformConsole.log("urlNS.GetGuid. Enable SSL"),urlService.Url=REISys.Platform.WebsiteUrl+urlService.getGuidMethod;var e={userId:REISys.Platform.CurrentUserId},a=JSON.stringify(e),t="";return $.ajax({type:urlService.Type,dataType:"JSON",url:urlService.Url,processData:!1,contentType:urlService.ContentType,data:a,async:!1,success:function(e){t=e},error:function(e,t,i){PlatformConsole.log("urlNS.GetGuid error: "+t+" - "+i+" - "+a)}}),t},urlNS.IsSSL=function(){var e=!0;return e="https:"!=document.location.protocol?!1:e},function(e){function t(e){e&&(this.instance=$find(e))}var i,a,n;i=e.Platform||(e.Platform={}),a=i.Web||(i.Web={}),(n=a.UI||(a.UI={})).REIRadComboBoxItem=function(){},t.prototype.BindData=function(e,t){if(e&&e instanceof Array)for(var i,a=0;a<e.length;a++)this.instance&&(i=e[a],this.instance.trackChanges(),this.instance.get_items().add(i));else PlatformConsole.log("either server error occurred or no data found for Rad comboBox");"function"==typeof t&&t(this.instance)},n.REIRadComboBox=t,a.UI,i.Web,e.Platform}(REISys=REISys||{}),function(n){var e,o,r;function t(){}function i(e){this.contextMenuJSON=e,this.menuJsonData=e,this.contextMenuControlId=this.menuJsonData.contextMenuControlId,0<this.menuJsonData.items.length&&(this.menuId=this.contextMenuControlId+"_menu")}function a(e,t){this.cssClass=e,this.text=t}e=(e=(e=n.Platform||(n.Platform={})).UI||(e.UI={})).ContextMenu||(e.ContextMenu={}),t.Group="Group",t.SubGroup="SubGroup",t.Item="Item",t.SubMenu="SubMenu",t.Separator="Separator",t.GroupSeparator="GroupSeparator",t.PopUpItem="PopUpItem",t.LinkButton="LinkButton",t.OverlayItem="OverlayItem",o=t,e.ContextMenuItemType=o,i.prototype.CreateContextMenuDefaultItem=function(){var e=this.menuJsonData.defaultItem,t=(e.id=this.contextMenuControlId+"_default",null!=e.id&&""!=e.id||(e.id=this.contextMenuControlId+"_default"),"tooltip"),i=(null!=e.enabled&&null!=e.enabled||(e.enabled=!0),e.enabled?t+=" showContext aclink":t+=" cmDisabled",e.itemType==o.LinkButton?r="javascript:__doPostBack('"+this.contextMenuControlId+"','"+e.id+"$"+e.commandArgs+"')":e.itemType==o.OverlayItem?(n=(r="#")==e.overLayWindowId.substring(0,1)?e.overLayWindowId:"#"+e.overLayWindowId,t+=" modalInput"):r=e.itemType==o.PopUpItem?(t+=" popUpClass","javascript:OpenPopupWithMenuBar('"+e.navigationUrl+"','600', '980', 'PopUp')"):""==e.navigationUrl?"#":e.navigationUrl,document.createElement("div")),a=(i.setAttribute("class","action-menu"),document.createElement("a")),n=(-1<r.toLowerCase().indexOf("javascript")?(a.setAttribute("onclick",r),a.href="#"):a.href=r,n&&(a.rel=n),a.setAttribute("class",t),e.imagePath&&((r=document.createElement("img")).src=e.imagePath,r.style.cssText="margin-right: 3px",r.alt="",a.appendChild(r)),a.innerHTML+=e.text,i.appendChild(a),void 0!==e.tooltipText&&(a.title=e.tooltipText),document.createElement("a")),t="tooltip showContext aclink",r=(n.setAttribute("class",t),n.href="#",n.rel=this.menuId,n.id=e.id,n.setAttribute("onclick","return false;"),n.setAttribute("tooltip-pos","top"),document.createElement("img")),a=(r.src=REISys.Platform.WebRoot+"/Platform/Include/Skins/EHB/Images/contextmenu_arrow.png",r.setAttribute("class","menuicon"),r.alt="Click to see more options",r.style.borderWidth="0px",r.id="cmImg"+e.id,$("#"+this.contextMenuControlId));a&&0<a.length?(e.enabled&&((t=document.createElement("span")).setAttribute("class","hidden-offscreen"),t.textContent="Click to see more options",n.title="Click to see more options",n.appendChild(t)),n.appendChild(r),a.html(""),$("#"+this.contextMenuControlId).append(i),$(n).data("child",this.menuJsonData)):n.appendChild(r),i.appendChild(n),$(".tooltip").tipTip()},i.prototype.CreateContextMenu=function(){var e,t;if(0<this.menuJsonData.items.length)return(e=document.createElement("div")).setAttribute("class","contextmenu"),e.setAttribute("orientation-vertical","down"),e.setAttribute("orientation-horizontal","right"),e.setAttribute("style","display:block;"),e.id=this.menuId,t=this.CreateChildItems(),e.appendChild(t),e},i.prototype.CreateChildItems=function(){var e=document.createElement("ul");e.setAttribute("class","cmMenuVertical cmlevel1");for(var t=0;t<this.menuJsonData.items.length;t++){var i=this.CreateMenuItem(this.menuJsonData.items[t],null);i&&e.appendChild(i)}return e},i.prototype.CreateMenuItem=function(e,t){var i,a="";switch(e.itemType){case o.Group:return new r("cmHeader",e.text).GetLiMarkUp();case o.GroupSeparator:return(i=document.createElement("div")).setAttribute("class","cmGroupSeperator"),i;case o.Item:a=this.CreateItemMarkup(e);return new r("cmItem",a).GetLiMarkUp();case o.LinkButton:return a=this.CreateItemMarkup(e),new r("cmItem",a).GetLiMarkUp();case o.PopUpItem:return a=this.CreatePopItemMarkup(e),new r("cmItem",a).GetLiMarkUp();case o.SubGroup:return new r("cmGroupHeader",e.text).GetLiMarkUp();case o.SubMenu:return a=this.CreateSubMenuItemMarkup(e,t),new r("cmItem cmFlyout",a).GetLiMarkUp();case o.OverlayItem:return a=this.CreateItemMarkup(e),new r("cmItem",a).GetLiMarkUp();case o.Separator:return(i=document.createElement("div")).setAttribute("class","cmSeperator"),i;default:return a=this.CreateItemMarkup(e),new r("cmItem",a).GetLiMarkUp()}},i.prototype.CreateItemMarkup=function(e){var t,i,a,n=document.createElement("span");return n.innerHTML=e.text,null!=e.imagePath&&null!=e.imagePath&&""!=e.imagePath&&(t=this.CreateMenuItemImage(e)),null!=e.enabled&&null!=e.enabled||(e.enabled=!0),e.enabled?(n.setAttribute("class","cmText"),(i=document.createElement("a")).setAttribute("class","tooltip cmLink"),void 0!==e.tooltipText&&(i.title=e.tooltipText),e.itemType==o.LinkButton?(a="javascript:__doPostBack('"+this.contextMenuControlId+"','"+e.id+"$"+e.commandArgs+"')",i.href=a):null!=e.navigationUrl&&null!=e.navigationUrl&&""!=e.navigationUrl&&(-1<e.navigationUrl.toLowerCase().indexOf("javascript")?(i.setAttribute("onclick",e.navigationUrl),i.href="#"):i.href=e.navigationUrl),e.itemType==o.OverlayItem&&(i.rel="#"==e.overLayWindowId.substring(0,1)?e.overLayWindowId:"#"+e.overLayWindowId,i.setAttribute("class","tooltip cmLink modalInput")),i.appendChild(n),null!=t&&i.insertBefore(t,n),i.outerHTML):(n.setAttribute("class","cmText cmDisabled tooltip"),null!=t?t.outerHTML+n.outerHTML:n.outerHTML)},i.prototype.CreatePopItemMarkup=function(e){var t,i=document.createElement("a"),a=document.createElement("span"),n=(a.setAttribute("class","cmText"),a.innerHTML=e.text,document.createElement("img"));return n.src=REISys.Platform.WebRoot+"/Platform/Include/Skins/EHB/Images/extlink.png",n.setAttribute("class","extLink"),n.alt="This link opens a new window",a.appendChild(n),null!=e.enabled&&null!=e.enabled||(e.enabled=!0),null!=e.imagePath&&null!=e.imagePath&&""!=e.imagePath&&(t=this.CreateMenuItemImage(e)),(e.enabled?(i.setAttribute("class","tooltip cmLink popUpClass"),null!=e.navigationUrl&&null!=e.navigationUrl&&""!=e.navigationUrl&&(n=ReiSys&&ReiSys.Platform&&!0===ReiSys.Platform.OpenPopupInSameWindow?"Popup":ReiSys.Platform.Utilities.CommonUtils.NewGuid(),i.href="javascript:OpenPopupWithMenuBar('"+e.navigationUrl+"','600', '980', '"+n+"')"),i.appendChild(a),null!=t&&i.insertBefore(t,a),i):((e=document.createElement("div")).setAttribute("class","tooltip cmLink cmDisabled"),e.appendChild(a),null!=t&&e.insertBefore(t,a),e)).outerHTML},i.prototype.CreateSubMenuItemMarkup=function(e,t){var i=document.createElement("a"),a=document.createElement("span"),n=(i.href="javascript:void(0)",a.setAttribute("class","cmText"),a.innerHTML=e.text,i.appendChild(a),null!=e.imagePath&&null!=e.imagePath&&""!=e.imagePath&&(n=this.CreateMenuItemImage(e),i.insertBefore(n,a)),this.GetSubMenuLevel(e,t,1)+1),r=document.createElement("ul");r.setAttribute("class","cmlevel"+n);for(var o=0;o<e.items.length;o++){var l=this.CreateMenuItem(e.items[o],e);r.appendChild(l)}return i.outerHTML+r.outerHTML},i.prototype.GetSubMenuLevel=function(e,t,i){return null!=t&&t.itemType==o.SubMenu?this.GetSubMenuLevel(e,null,++i):i},i.prototype.CreateMenuItemImage=function(e){var t=document.createElement("img");return t.src=e.imagePath,t.setAttribute("class","cmLeftImg"),t.alt="",t},i.CreateContextMenuOnClick=function(e,t){var i,a,e=$(e).data("child");e&&(i=new n.Platform.UI.ContextMenu.ContextMenuGenerator(e),a=$("#"+e.contextMenuControlId))&&0==$("div.contextmenu",a).length&&$("#"+e.contextMenuControlId).append(i.CreateContextMenu())},e.ContextMenuGenerator=i,a.prototype.GetLiMarkUp=function(){var e=document.createElement("li");return""!=this.cssClass&&null!=this.cssClass&&e.setAttribute("class",this.cssClass),e.innerHTML=this.text,e},r=a}(Reisys=Reisys||{}),$(function(){"undefined"!=typeof CarouselConfig&&($("#default-carousel-buttons").remove(),$(".carousel li").css({"padding-bottom":"0px"}),$("#carousel-wrapper").css({"padding-right":"0px"}),$(".carousel").jcarousel({itemLoadCallback:function(e,t){var i;e.has(e.first,e.last)||(e.lock(),(i=e).unlock(),$.ajax({type:"GET",data:{serviceTypeName:CarouselConfig.ServiceTypeName,scrollIndex:++CarouselConfig.ScrollIndex,scrollSize:CarouselConfig.ScrollSize,additionalInputs:CarouselConfig.AdditionalInputs},url:REISys.Platform.WebRoot+"Platform/WebServices/CarouselService.svc/GetCarouselItems",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){for(var a,t=i.first;t<=i.last;t++)if(!i.has(t)){0;break}a=i,$(e.items).each(function(e){var t=this.imageUrl.startsWith("http")?this.imageUrl:REISys.Platform.WebRoot+this.imageUrl.substr(2),i=this.viewLinkUrl.startsWith("http")?this.viewLinkUrl:REISys.Platform.WebRoot+this.viewLinkUrl.substr(2),t=$('<div class="ft_component_img" />').append($("<img />").attr("src",t).attr("alt","")),i=$('<div class="ft_component_text" />').append($('<a href="#" class="tooltip trheader" />').attr("title",this.toolTip).text(this.toolTipTitle)).append($("<p />").html(this.additionalInfo)).append($('<a target="_blank" />').attr("href",i).append($('<img alt="View" />').attr("src",REISys.Platform.WebRoot+"Platform/Include/Images/view.png"))).css({float:"none"}),t=$("<li />").append(t).append(i);a.add(e+first+1,t.html())})}}))},scroll:1,size:CarouselConfig.TotalItems,visible:CarouselConfig.ScrollSize,buttonNextEvent:"click keypress keydown",buttonPrevEvent:"click keypress keydown"}).css({overflow:"hidden"}),$(".cornerBox .featuredheader").prepend($('<a id="carousel-toggle-button" style="padding-left: 12px; margin-left: 0px;" href="javascript:divtoggle(\'carousel-wrapper\', \'carousel-toggle-button\')" />').append($('<img class="sectionarrow" alt="expand" />').attr("src",REISys.Platform.WebRoot+"platform/include/images/arrow_down.gif"))))}),Sys.Application.add_load(function(){$(".widget-body").each(function(){this.setup||($(".hiddeninfo:empty",this).next().find("a.viewmore").addClass("disabled").removeAttr("href"),$(".viewmore",this).not(".disabled").click(function(e){e.preventDefault();var t=$(this).parent().parent().prev(".hiddeninfo");if(-1!=this.className.indexOf("clicked")){for(i=0;i<t.length;i++)$(t.get(i)).slideUp(500);$(this).removeClass("clicked"),$(this).html("+ View More")}else{for($(this).addClass("clicked"),i=0;i<t.length;i++)$(t.get(i)).slideDown(500);$(this).html("- View Less")}})),this.setup=!0})}),$(function(){$(".widget-filter-icon").parent().focus(function(){$(this).nextAll(".widget-filter-category-popup").toggle(function(){$(".widget-filter-category-popup input").each(function(){$(this).attr("tabindex",0)})})}),$(".widget-filter-category-popup input:last").blur(function(){$(".widget-filter-category-popup").toggle()})}),GlobalSearch={ResultUrl:null,AutoCompleteUrl:null,Cache:{},LastXhr:null,RegisterControl:function(i){$("input#queryText"+i).autocomplete({source:function(e,n){var r=e.term;r in GlobalSearch.Cache?n(GlobalSearch.Cache[r]):(e=GlobalSearch.AutoCompleteUrl+(-1===GlobalSearch.AutoCompleteUrl.indexOf("?")?"?":"&")+"query="+escape($("input#queryText"+i).val())+"&categoryVal="+escape($("select[id$='categoryList"+i+"'] :selected").val())+"&categoryText="+escape($("select[id$='categoryList"+i+"'] :selected").text())+"&UserId="+REISys.Platform.CurrentUserId,GlobalSearch.LastXhr=$.ajax({type:"GET",url:e,dataType:"text",success:function(e,t,i){var a=JSON.parse(e);GlobalSearch.Cache[r]=e,i===GlobalSearch.LastXhr&&n(a)}}))},appendTo:"#disableStyles"+i,minLength:3,delay:500,open:function(e,t){$("div#disableStyles"+i+" li").css("list-style","none"),$("div#disableStyles"+i+" li").css("float","none"),$("div#disableStyles"+i+" a").css("float","none"),$("div#disableStyles"+i+" ul").css("padding-left","10px"),"Bottom"===i&&$("div#disableStyles"+i).css("bottom","36px")}}),$("input#searchBtn"+i).click(function(e){e.preventDefault(),window.location=GlobalSearch.ResultUrl+(-1===GlobalSearch.ResultUrl.indexOf("?")?"?":"&")+"query="+escape($("input#queryText"+i).val())+"&categoryVal="+escape($("select[id$='categoryList"+i+"'] :selected").val())+"&categoryText="+escape($("select[id$='categoryList"+i+"'] :selected").text())+"&UserId="+REISys.Platform.CurrentUserId})}};var contributionNS=newnamespace("REISys.Platform.Web.Contribution"),ContributionUrlConstants=function(){},CQConstants=(ContributionUrlConstants.Service="Platform/WebServices/ContributionService.svc",ContributionUrlConstants.BaseUrl=REISys.Platform.WebRoot,function(){});function newfilernamespace(e){for(var t,i=e.split("."),a=window,n=0,r=i.length;n<r;n++)a[t=i[n]]=a[t]||{},a=a[t];return a}CQConstants.ResourceType="ResourceTypeCode",CQConstants.ResourceValue="ResourceValue",CQConstants.InvitationId="InvitationId",CQConstants.PRoleId="PRoleId",CQConstants.RoleId="RoleId",CQConstants.TaskTypeCode="TaskTypeCode",contributionNS.loadPage=function(e,t){return e=contributionNS.CreateUrl(e,t),window.location.replace(e),window.location.href=e,!1},contributionNS.loadPopupPage=function(e,t){return e=contributionNS.CreateUrl(e,t),window.open(e,"_blank","height=400,width=1200,resizable=1",!0),!1},contributionNS.CreateUrl=function(e,t){return e.contains("?")?e+="&":e+="?",null!=t[CQConstants.ResourceType]&&(e+=CQConstants.ResourceType+"="+t[CQConstants.ResourceType]),null!=t[CQConstants.ResourceValue]&&(e+="&"+CQConstants.ResourceValue+"="+t[CQConstants.ResourceValue]),t[CQConstants.ParentResourceType],t[CQConstants.ParentResourceValue],null!=t[CQConstants.InvitationId]&&(e+="&"+CQConstants.InvitationId+"="+t[CQConstants.InvitationId]),null!=t[CQConstants.TaskTypeCode]&&(e+="&"+CQConstants.TaskTypeCode+"="+t[CQConstants.TaskTypeCode]),null!=t[CQConstants.RoleId]&&(e+="&"+CQConstants.RoleId+"="+t[CQConstants.RoleId]),null!=t[CQConstants.RoleId]&&(e+="&"+CQConstants.PRoleId+"="+t[CQConstants.RoleId]),e},contributionNS.ExpandAllGrid=function(e,t){for(var e=$find($("[id$='"+e+"']").attr("id")),t=$("[id$='"+t+"']"),i=$("[id$='ExpandedState']"),a=!1,n=("Detailed View"==t.text()?(a=!0,t.text("Summary View"),i.val("Summary View")):(t.text("Detailed View"),i.val("Detailed View")),e.get_masterTableView()),r=0;r<n.get_dataItems().length;r++){n.get_dataItems()[r];a?n.expandItem(r):n.collapseItem(r)}return!1},contributionNS.ExpandAllGridAtPostBack=function(e,t){for(var e=$find($("[id$='"+e+"']").attr("id")),t=$("[id$='"+t+"']"),i=$("[id$='ExpandedState']"),a=!1,n=("Detailed View"==t.text()?i.val("Detailed View"):(a=!0,i.val("Summary View")),e.get_masterTableView()),r=0;r<n.get_dataItems().length;r++){n.get_dataItems()[r];a?n.expandItem(r):n.collapseItem(r)}return!1};var Reisys,REISys,ReiSys,filerNS=newfilernamespace("REISys.Platform.Web.Filer"),__extends=(filerNS.uploadQuickNote=function(){try{var e=urlNS.GetGuid(),t=$("input[id*=txtQuickNoteSubject]")[0].value,i="",a=$("input[id*=txtQuickNoteDetail]")[0].value,n=filerNS.validate();null!=a&&(i=JSON.parse(a).valueAsString),n&&(filerNS.uploadQuickNoteItem(e,t,i,REISys.Platform.CurrentUserId),filerNS.showSuccessMessage(),setTimeout(function(){$(".toolbar_note_menu").fadeOut(filerNS.clearInputs)},3e3))}catch(e){console.log("filerNS.uploadQuickNote error:"+e)}return!1},filerNS.uploadQuickNoteItem=function(e,t,i,a){var n=urlNS.GetUrl("815A84F5-726A-455A-8682-F9C0ABEEE9E6")+"/UploadQuickNoteItem",r=!1,e='{"item":'+JSON.stringify({UnfiledNoteId:e,Subject:t,Body:i,CreatorId:a})+"}";return $telerik.$.ajax({type:"POST",dataType:"json",url:n,async:!1,contentType:"application/json; charset=utf-8",data:e,success:function(e){r=e},error:function(e,t,i){console.log("filerNS.uploadQuickNoteItem error: "+t+" - "+i+" - "+data)}}),r},filerNS.validate=function(){filerNS.resetLayout();var e=$find(quickNote.idList.subject).get_value(),t=$find(quickNote.idList.detail).get_value(),e=e.trim(),t=t.trim(),i=0;return""===e&&($("#subjectError").show(),i++),""===t&&($("#detailError").show(),i++),filerNS.adjustForErrors(i),0===i},filerNS.resetLayout=function(){$(".toolbar_note_menu").css("height","260px"),$("#subjectError").hide(),$("#detailError").hide(),$("#noteSuccessMsg").hide(),$("#divHideNoteArea").show(),$(".toolbar_note:first").focus()},filerNS.showSuccessMessage=function(){$("#noteSuccessMsg").show(),$("#divHideNoteArea").hide(),$(".toolbar_note_menu").css("height","100px")},filerNS.clearInputs=function(){$find(quickNote.idList.subject).clear(),$find(quickNote.idList.detail).clear(),$find(quickNote.idList.detail).clear(),filerNS.resetLayout()},filerNS.adjustForErrors=function(e){var t=$(".toolbar_note_menu").height(),i=$("#subjectError").height();$(".toolbar_note_menu").css("height",t+e*i)},!function(e){function t(){}var i,a;i=e.Platform||(e.Platform={}),a=i.Web||(i.Web={}),t.OnStatusReviewLoad=new GlobalPlatformEvent("OnStatusReviewLoad"),t.DataSouce={},t.TOCGridVisible={},t.TOCNavigatorVisible={},a.StatusReview=t,i.Web,e.Platform}(REISys=REISys||{}),!function(m){var e=m.Platform||(m.Platform={});function v(e,t){this.gridId=e,this.ItemSelectedEvent=new GlobalPlatformEvent("ItemSelected"),this.ItemUnselectedEvent=new GlobalPlatformEvent("ItemUnselected"),this.ClearSelectionEvent=new GlobalPlatformEvent("ClearSelection"),this.SelectedItemsArgs=null,this._selectedItemProperty=m.Platform.UI.RadGrid._selectedItemProperty,this.grid=$telerik.findGrid(e),null!==this.grid&&void 0!==this.grid&&null!==this.grid.get_masterTableView()&&(this.gridDataKeyNames=this.grid.get_masterTableView().get_clientDataKeyNames()),this.Add508Compliance(),void 0!==t&&t&&(m.Platform.UI.RadGrid.PersistState=t)}(e=e.UI||(e.UI={})).OnBeforeServiceCalling=new GlobalPlatformEvent("OnBeforeServiceCalling"),e.OnAfterServiceCalled=new GlobalPlatformEvent("OnAfterServiceCalled"),e.OnAfterDataBind=new GlobalPlatformEvent("OnAfterDataBind"),e.CSLFEventOnBeforeGridRowDataBound=new GlobalPlatformEvent("CSLFEventOnBeforeGridRowDataBound"),e.OnNeedDataSource=new GlobalPlatformEvent("OnNeedDataSource"),e.OnBeforeDataBind=new GlobalPlatformEvent("OnBeforeDataBind"),v.prototype.Update=function(){var e=this.grid.get_masterTableView(),t=(e._updatePager=function(){var e=Math.ceil(this.get_virtualItemCount()/this.get_pageSize()),t=(this.PageCount=e=0==e?1:e,this.get_id()+"PCN"),i=this.get_id()+"FIP",a=this.get_id()+"DSC",n=this.get_id()+"LIP",r=this._data.pageOfLabelClientID;this._populatePagerStatsElements(t,i,n,a,r),t=this.get_id()+"PCNTop",i=this.get_id()+"FIPTop",a=this.get_id()+"DSCTop",n=this.get_id()+"LIPTop",r=this._data.pageOfLabelTopClientID,this._populatePagerStatsElements(t,i,n,a,r),this._refreshPagerSlider(),this._refreshAdvancedPageTextBoxes(),this._refreshDropDownPager(),this._generateNumericPager(),this._setPagerVisibility(1<e||this._data.PagerAlwaysVisible)},m.Platform.UI.RadGrid.GetClientPageSize(this.grid));!m.Platform.UI.RadGrid.PersistState&&t?e.set_pageSize(t):""!==e.get_pageSize()&&"0"!==e.get_pageSize()||e.set_pageSize(15),m.Platform.UI.RadGrid.RefreshGrid(this.grid,null)},v.prototype.Refresh=function(){m.Platform.UI.RadGrid.RefreshGrid(this.grid,null)},v.prototype.Add508Compliance=function(){$(".rgPageFirst").val("First Page"),$(".rgPagePrev").val("Previous Page"),$(".rgPageNext").val("Next Page"),$(".rgPageLast").val("Last Page")},v.prototype.Rebind=function(){alert("rebind"),this.grid.get_masterTableView().rebind(),alert("rebind done")},v.prototype.GetCurrentPageKeysSelect=function(){for(var e=[],t=this.grid.get_masterTableView().get_dataItems(),i=t.length,a=0;a<i;a++){var n=t[a].get_dataItem(),r=n.IsSelectable_ClientFM;r?"Yes"===r&&!1===n[this._selectedItemProperty]&&(n[this._selectedItemProperty]=!0,e.push(this.createKeyItem(n))):!1===n[this._selectedItemProperty]&&(n[this._selectedItemProperty]=!0,e.push(this.createKeyItem(n)))}return $(".tooltip").tipTip(),e},v.prototype.GetAllItemDataKeysForPage=function(){for(var e=[],t=this.grid.get_masterTableView().get_dataItems(),i=t.length,a=0;a<i;a++){var n=t[a].get_dataItem();e.push(this.createKeyItem(n))}return e},v.prototype.GetCurrentPageKeysUnselect=function(){for(var e=[],t=this.grid.get_masterTableView().get_dataItems(),i=t.length,a=0;a<i;a++){var n=t[a].get_dataItem();!0===n[this._selectedItemProperty]&&(n[this._selectedItemProperty]=!1,e.push(this.createKeyItem(n)))}return e},v.prototype.GeAllKeysSelect=function(){var e=new Array,n=(e.IgnorePageSize=!0,e.push(new m.Platform.UI.RadGridEventArgs("GroupAction_Enabled","true")),e.push(new m.Platform.UI.RadGridEventArgs("GroupAction_GetOnlyKeys","true")),e.push(new m.Platform.UI.RadGridEventArgs("GroupAction_KeyFieldName",this.gridDataKeyNames.toString())),this.gridDataKeyNames.length,$.Deferred()),r=this;return this.GetData(e).done(function(e){for(var t=jQuery.parseJSON(e.Data),i=[],a=0;a<t.length;a++)i.push(r.createKeyItem(t[a]));n.resolve(i)}).fail(function(e){PlatformConsole.log("GetData Failed: "+e)}),n},v.prototype.ResetGrid=function(){this.ClearSelectionEvent.raise(),this.SelectedItemsArgs=null;var e=this.grid.get_masterTableView();$(".rgGroupHeader").addClass("rgGroupHeader1").removeClass("rgGroupHeader"),e.set_currentPageIndex(0),e.clearFilter(),e.clearSort(),e.dataBind(),e.rebind(),m.Platform.UI.RadGrid.PersistState&&ReiSys.Platform.UI.RadGridPersistUtility.clearState()},v.prototype.ViewAll=function(){this.SelectedItemsArgs=null;var e=new Array;e.push(new m.Platform.UI.RadGridEventArgs("GroupAction_ViewAll","true")),this.SelectedItemsArgs=e,v.RefreshGrid(this.grid,null)},v.prototype.ViewSelected=function(e){var t,i=new Array,a=[],n=[],r=e.values();if(0<r.length){var o,l=r[0];for(o in l)l.hasOwnProperty(o)&&a.push(o);if(1<a.length)throw Error("Multiple client keys not supported at the moment");for(t=0;t<r.length;t++)n.push(ReiSys.Utilities.Util.AddQuotes(r[t][a[0]]));i.push(new m.Platform.UI.RadGridEventArgs("GroupAction_ViewSelected","true")),i.push(new m.Platform.UI.RadGridEventArgs(a[0],n.join(",")))}this.SelectedItemsArgs=i,this.grid.get_masterTableView().set_currentPageIndex(0),0==this.grid.get_masterTableView().get_currentPageIndex()&&v.RefreshGrid(this.grid,null)},v.prototype.SelectAllItemsOnPage=function(){for(var e=this.grid.get_masterTableView().get_dataItems(),t=0;t<e.length;t++){var i=e[t].get_dataItem().IsSelectable_ClientFM;(!i||"Yes"===i)&&(e[t].get_dataItem()[v._selectedItemProperty]=!0)}$(this.grid.get_element()).find(".group-unselected").each(function(e,t){t.src=t.src.replace("group_minus","group_add"),t.className=t.className.replace(/\bgroup-unselected\b/,"group-selected"),t.alt="Remove item from group",t.title="Remove item from group"}),$(".tooltip").tipTip()},v.prototype.UnselectAllItemsOnPage=function(){for(var e=this.grid.get_masterTableView().get_dataItems(),t=0;t<e.length;t++)e[t].get_dataItem()[v._selectedItemProperty]=!1;$(this.grid.get_element()).find(".group-selected").each(function(e,t){t.src=t.src.replace("group_add","group_minus"),t.className=t.className.replace(/\bgroup-selected\b/,"group-unselected"),t.alt="Add item to group",t.title="Add item to group"}),$(".tooltip").tipTip()},v.prototype.GetData=function(e){var t,e=null!=e?e:new Array,a=$.Deferred(),i=!1;return m.Platform.UI.OnBeforeServiceCalling.raise(this.grid,e),e.every(function(e){return"NO_GET"!=e})&&(m.Platform.UI.OnNeedDataSource.raise(this.grid,e),void 0!==e.dataSource&&null!==e.dataSource?(i=!0!==e.pagedData,a.resolve(e.dataSource,i)):void 0!==e.promise&&null!==e.promise?(i=!0!==e.pagedData,e.promise.done(function(e){a.resolve(e,i)}).fail(function(){a.reject.apply(a,arguments)})):(t=m.Platform.UI.RadGrid.GetServiceUrl(this.grid),e=m.Platform.UI.RadGrid.GetRequestData(this.grid,e),$.ajax({type:"POST",url:t,contentType:"application/json; charset=utf-8",dataType:"json",data:e}).done(function(e){try{a.resolve(e,i)}catch(e){v.PublishError(e)}}).fail(function(e,t,i){v.PublishError(i),PlatformConsole.log("RefreshGrid: Error occurred while making request"+i),a.reject(i)}))),a},v.PublishError=function(e){ReiSys&&ReiSys.Platform&&ReiSys.Platform.ExceptionManagement&&ReiSys.Platform.ExceptionManagement.ExceptionManager&&ReiSys.Platform.ExceptionManagement.ExceptionManager.PublishException(e,!0)},v.prototype.ToggleParentGroup=function(e,t){var e=e.get_element(),i=this.grid.get_masterTableView(),e=$(e).prevAll(".rgGroupHeader:first");0!==e.length&&(t?0<e[0].getElementsByClassName("rgExpand").length&&i._getGroupExpandButton(e[0]).click():0<e[0].getElementsByClassName("rgCollapse").length&&i._getGroupExpandButton(e[0]).click())},v.GetControllerInstance=function(e){var t=$telerik.findGrid(e);return t.REIRadGridController||(e=new m.Platform.UI.RadGrid(e),t.REIRadGridController=e)},v.GetSelectionStatusImage=function(e){return e?"group_add.png":"group_minus.png"},v.GetSelectionStatusCssClass=function(e){return e?"group-selected":"group-unselected"},v.GetComplianceText=function(e){return e?"Remove item from group":"Add item to group"},v.OnToggleSelection=function(e,t,i){var a,n,r,o=$telerik.findGrid(t).get_masterTableView().get_dataItems(),l=(-1!==e.src.indexOf("group_add")?(e.src=e.src.replace("group_add","group_minus"),e.className=e.className.replace(/\bgroup-selected\b/,"group-unselected"),e.alt="Add item to group",e.title="Add item to group"):(e.src=e.src.replace("group_minus","group_add"),e.className=e.className.replace(/\bgroup-unselected\b/,"group-selected"),e.alt="Remove item from group",e.title="Remove item from group"),$(".tooltip").tipTip(),[]);for(r in i)i.hasOwnProperty(r)&&l.push(r);for(var s=o.length,d=l.length,u=0;u<s;u++){for(var c=o[u].get_dataItem(),p=!0,g=0;g<d;g++)if(c[n=l[g]]!==i[n]){p=!1;break}if(p){a=c;break}}null!=a&&(e=!a[v._selectedItemProperty],a[v._selectedItemProperty]=e,t=v.GetControllerInstance(t),e?t.SelectSingleItem(i):t.UnselectSingleItem(i))},v.prototype.SelectSingleItem=function(e){this.ItemSelectedEvent.raise(e)},v.prototype.UnselectSingleItem=function(e){this.ItemUnselectedEvent.raise(e)},v.prototype.createKeyItem=function(e){for(var t=this.gridDataKeyNames.length,i={},a=0;a<t;a++)i[this.gridDataKeyNames[a]]=e[this.gridDataKeyNames[a]];return i},v.Repaint=function(e,t,i){var a,n,r,o,l=null,s=e.get_masterTableView();if(null!=t&&null!==t.Data&&void 0!==t.Data&&(l=jQuery.parseJSON(t.Data)),v.ResetGroup(e,null===l||0===l.length),null!==l){m.Platform.UI.OnBeforeDataBind.raise(e,l);try{i&&(r=s.get_pageSize(),o=s.get_currentPageIndex(),t.TotalRecords>r)&&(l=t.TotalRecords-(o+1)*r<0?l.slice(o*r):l.slice(o*r,r))}catch(e){PlatformConsole.log("could not able to set page size"+e.message)}for(a=0;a<l.length;a++)void 0===l[a][v._selectedItemProperty]&&(l[a][v._selectedItemProperty]=!1);s.set_dataSource(l),s.set_virtualItemCount(t.TotalRecords),$(".rgGroupHeader").addClass("rgGroupHeader1").removeClass("rgGroupHeader"),s.dataBind(),$(".tooltip").tipTip()}else{var d=(s=e.get_masterTableView()).get_dataItems().slice(0);for(s.set_dataSource(new Array),$(".rgGroupHeader").addClass("rgGroupHeader1").removeClass("rgGroupHeader"),s.dataBind(),a=0,n=d.length;a<n;a++)d[a].set_expanded(!1);PlatformConsole.log("either server error occurred or no data found")}$(".selectableItemGridCol").off("keypress"),$(".selectableItemGridCol").keypress(function(e){13==e.keyCode&&$(this).click()})},v.ResetGroup=function(e,t){$(".rgGroupHeader1").addClass("rgGroupHeader").removeClass("rgGroupHeader1");var i,a,n,r,o=null,l=e.get_masterTableView(),s=$(e.get_element()).data("groupingfields"),d=Array.prototype.slice.call(e.get_element().getElementsByClassName("rgFooter"));if(void 0!==d&&0<d.length&&(d[d.length-1].style.display=t?"none":""),null!=s&&0!==s.length){for(o=Array.prototype.slice.call(e.get_element().getElementsByClassName("rgGroupHeader")),i=Array.prototype.slice.call(e.get_element().getElementsByClassName("rgFooter")),r=$(e.get_element()).data("groupingfields").length,a=0;a<r;a++)delete o[a].__REIGroupKey,delete o[a].__REIDataItem,0<o[0].getElementsByClassName("rgExpand").length&&l._getGroupExpandButton(o[0]).click(),o[a].style.display=t?"none":"";if(o.length>r){for(a=r,n=o.length;a<n;a++){var u=o[a];u.parentNode.removeChild(u)}for(a=0;a<i.length-1;a++){var c=i[a];c.parentNode.removeChild(c)}}void 0!==i[i.length-1]&&$(i[i.length-1]).children().each(function(){$(this).html("&nbsp;")})}},v.AddSortExpression=function(e,t,i){var a=new Telerik.Web.UI.GridSortExpression;a.set_fieldName(t),a.set_sortOrder(i),e.get_masterTableView()._sortExpressions.add(a),e.get_masterTableView()._showSortIconForField(t,i)},v.RefreshGridById=function(e,t){e=$telerik.findGrid(e);e.get_masterTableView().set_currentPageIndex(0),this.RefreshGrid(e,t)},v.GetRequestData=function(e,t){var i=v.GetControllerInstance(e.get_id()),a=e.get_masterTableView(),n=a.get_pageSize(),r=a.get_currentPageIndex()+1,o=a.get_sortExpressions().toList(),a=a.get_filterExpressions().toList(),l=(e.get_element().getAttribute("serviceUrl"),e.get_element().getAttribute("loadingPanelId"),e.get_element().getAttribute("statementName")),e=e.get_element().getAttribute("configPath");if(null!==i.SelectedItemsArgs)for(var s=0;s<i.SelectedItemsArgs.length;s++)t.push(i.SelectedItemsArgs[s]);return void 0!==t.IgnorePageSize&&!0===t.IgnorePageSize&&(r=0,n="0"),0<a.length&&a.forEach(function(e){e.set_fieldValue(e.get_fieldValue().trim())}),JSON.stringify({requestParams:{PageIndex:r,PageSize:n,Token:"asdf",StatementName:l,ConfigPath:e,FilterItems:a,SortItems:o},additionalParams:t})},v.GetLoadingPanelId=function(e){return e.get_element().getAttribute("loadingPanelId")},v.GetClientPageSize=function(e){return e.get_element().getAttribute("clientPageSize")},v.GetServiceUrl=function(e){return e.get_element().getAttribute("serviceUrl")},v.IsDetailViewExpanded=function(){var e=!1,t=(null==(n=ReiSys.Utilities.CookieHandler.GetCookie(REISys.Platform.RadGridCookieName))&&(n=""),""),i=window.location.href,a=i.indexOf("?"),a=(i=-1!==a?i.substr(0,a):i).indexOf(REISys.Platform.WebRoot),t=i.substr(a,i.length),n=n.toString().replace(/\//g,""),a=(t=t.toString().replace(/\//g,""),n.indexOf(t));return e=-1!==a&&(i=a+t.length,"t"===n.substring(i+1,i+2))?!0:e},v.BindGrid=function(e,t,i){if(null!=t)for(var a=e.get_masterTableView().get_dataItems().slice(0),i=(m.Platform.UI.OnAfterServiceCalled.raise(e,t),m.Platform.UI.RadGrid.Repaint(e,t,i),m.Platform.UI.OnAfterDataBind.raise(e,t),e.get_masterTableView().get_dataItems()),n=(a=i.length>a.length?i:a).length,r=m.Platform.UI.RadGrid.IsDetailViewExpanded(),o=i.length,l=0;l<n;l++){var s=a[l];l<o?s.set_expanded(r):s.set_expanded(!1)}m.Platform.UI.RadGrid.UpdateSortAndFilterExpressionDisplay(e)},v.UpdateSortAndFilterExpressionDisplay=function(o){var e,t,i,a,n=o.get_masterTableView(),r=o.get_element().id,l=document.getElementById(r+"_sortexpression_area");if(null!==l){var s=!1,d=(l.ViewModel?((a=l.ViewModel).gridSortModelList([]),a.filterApplier(!1),s=!1):(s=!0,(a={gridSortModelList:ko.observableArray([]),filterApplier:ko.observable(!1),removeSort:function(e){for(var t,i=o.get_masterTableView(),a=i.get_sortExpressions().toList(),n=a.length,r=0;r<n;r++)if(t=a[r],e.fieldName===t.FieldName){i._showSortIconForField(t.FieldName,Telerik.Web.UI.GridSortOrder.None),a.splice(r,1);break}return m.Platform.UI.RadGrid.PersistState&&ReiSys.Platform.UI.RadGridPersistUtility.saveState(o),v.IsCustomSorted.set(!1),m.Platform.UI.RadGrid.RefreshGrid(o,null),!1},removeAll:function(){for(var e=o.get_masterTableView(),t=e.get_sortExpressions().toList(),i=t.length,a=0;a<i;a++){var n=t[a];e._showSortIconForField(n.FieldName,Telerik.Web.UI.GridSortOrder.None)}return e.get_sortExpressions().clear(),m.Platform.UI.RadGrid.PersistState&&ReiSys.Platform.UI.RadGridPersistUtility.saveState(o),v.IsCustomSorted.set(!1),m.Platform.UI.RadGrid.RefreshGrid(o,null),!1},clearFilter:function(){var e,t=n.get_filterExpressions().toList().slice(0);for(n.clearFilter(),e=0;e<t.length;e++)ReiSys.Utilities.Util.SetValueForFilterControl(r,t[e].ColumnUniqueName,"");m.Platform.UI.RadGrid.PersistState&&ReiSys.Platform.UI.RadGridPersistUtility.saveState(o),m.Platform.UI.RadGrid.RefreshGrid(o,null)}}).isVisible=ko.computed(function(){var e=$("#"+o.get_element().id+"_sortexpression_area");return this.filterApplier()||0<this.gridSortModelList().length||1<e.children().length}.bind(a)),l.ViewModel=a),e=n.get_sortExpressions().toList(),$(o.get_element()).data("columncollection"));if(void 0!==d){for(t=0,i=e.length;t<i;t++){null!=$("#clearAllExp")&&null!=$("#clearAllExp").children()&&0<$("#clearAllExp").children().length&&$("#clearAllExp").click();var u=e[t],c=m.Platform.UI.RadGrid.GetColumnTitleBySortExpression(o,u.FieldName,d);null===(c=null===c?m.Platform.UI.RadGrid.GetTitleByFieldName(o,u.FieldName,d):c)&&(c="[...]"),c=new g(u.FieldName,c,u.SortOrder),a.gridSortModelList.push(c)}var p=n.get_filterExpressions().get_count();a.filterApplier(0<p),s&&ko.applyBindings(a,l)}}},v.GetColumnTitleBySortExpression=function(e,t,i){var a,n=null;if(null==i)return null;for(a in i)if(i.hasOwnProperty(a)&&i[a].SortExpression===t){n=i[a].Title;break}return n},v.GetTitleByFieldName=function(e,t,i){return null!=i&&null!==(e=m.Platform.UI.RadGrid.GetColumnByFieldName(e,t))&&i[t=e.get_uniqueName()]?i[t].Title:null},v.GetColumnByFieldName=function(e,t){for(var i,a=e.get_masterTableView().get_columns(),n=0,r=a.length;n<r;n++)if((i=a[n]).get_dataField()===t)return i;return null},v.RefreshGrid=function(e,t){var t=null!=t?t:new Array,i=v.GetControllerInstance(e.get_id()),a=m.Platform.UI.RadGrid.GetLoadingPanelId(e);m.Platform.UI.RadGrid.ShowHideLoadingPanel(a,e.ClientID,!0),i.GetData(t).then(function(e,t){v.BindGrid(i.grid,e,t)}).fail(function(e){PlatformConsole.log("GetData Failed: "+e),v.Repaint(i.grid,null,!1)}).always(function(){m.Platform.UI.RadGrid.ShowHideLoadingPanel(a,e.ClientID,!1)})},v.ShowHideLoadingPanel=function(e,t,i){e&&t&&$find(e)&&(i?$find(e).show(t):$find(e).hide(t))},v.PFMRadGridCommand=function(e,t){t.set_cancel(!0);var i=t.get_commandName();if("Delete"!=i){var a=e.get_masterTableView(),n=a.get_pageSize();a.get_currentPageIndex(),e.get_masterTableView().get_sortExpressions().toList(),e.get_masterTableView().get_filterExpressions().toList();if("PageSize"==i){var r=t.get_commandArgument();if(a.set_pageSize(r),n==r)return;for(var o=a.get_dataItems(),l=0;l<o.length;l++)a.deleteItem(o[l].get_element())}if("Filter"==i){n=t.get_commandArgument();try{var s,d,u=n.split("|");"?NoFilter"===u[2]&&(s="input[id*="+u[0]+"_dateInput]",null!=(d=$($(s)[0])))&&d.val("")}catch(e){PlatformConsole.log("PFMRadGridCommand."+e)}}"Sort"===i&&(r=a.get_id()+"__"+t.get_commandArgument()+"__SortAsc",$("#"+r).length&&$("#"+r).siblings(":first").focus(),v.IsCustomSorted.set(!1)),"Page"!==i&&"PageSize"!==i&&"Filter"!==i&&"Sort"!==i||(m.Platform.UI.RadGrid.PersistState&&ReiSys.Platform.UI.RadGridPersistUtility.saveState(e),m.Platform.UI.RadGrid.RefreshGrid(e,null))}},v.ComboFilterHandler=function(e,t,i,a,n){var n=$telerik.findGrid(n),e=$find(e),r=e.get_value(),e=e.get_text(),o=Telerik.Web.UI.GridFilterFunction.EqualTo;return v.ApplyFilter(n,a,t,o,e,r),n.get_masterTableView().set_currentPageIndex(0),m.Platform.UI.RadGrid.PersistState&&ReiSys.Platform.UI.RadGridPersistUtility.saveState(n),m.Platform.UI.RadGrid.RefreshGrid(n,null),!1},v.SelectableColumnFilterHandler=function(e,t,i){var a=$telerik.findGrid(i),e=$find(e),n=e.get_text(),e=e.get_value();if(window.masterPanel){var r=window.masterPanel.getItems().values(),o=v.GetControllerInstance(i).gridDataKeyNames;if(0!=o.length&&!(1<o.length)){var i=o[0],l="";if("-1"!==e){for(var s=[],d=0;d<r.length;d++)s.push(r[d][o[0]]);l=s.join(","),i+="2"===e?"_unselected":"_selected"}return v.ApplyFilter(a,t,i,Telerik.Web.UI.GridFilterFunction.Custom,n,l),m.Platform.UI.RadGrid.PersistState&&ReiSys.Platform.UI.RadGridPersistUtility.saveState(a),m.Platform.UI.RadGrid.RefreshGrid(a,null),!1}}else PlatformConsole.log("masterPanel not setup")},v.ApplyFilter=function(e,t,i,a,n,r,o){for(var l,s,e=e.get_masterTableView(),d=e.get_filterExpressions(),u=d.get_count(),c=[],p=0;p<u;p++)(l=d.getItem(p)).get_fieldName()!==i&&l.get_columnUniqueName()!==t||c.push(l);if(0<c.length)for(p=0;p<c.length;p++)d.remove(c[p]);"-1"!==r&&""!==r&&"All"!==r&&"00000000-0000-0000-0000-000000000000"!==r&&(s=new Telerik.Web.UI.GridFilterExpression,e.getColumnByUniqueName(t).set_filterFunction("EqualTo"),s.set_fieldName(i),s.set_fieldValue(r),s.set_filterFunction(a),s.set_columnUniqueName(t),o&&s.set_dataTypeName(o),d.add(s))},v.OnRowCreated=function(e,t){t.get_itemIndexHierarchical();m.Platform.UI.RadGrid.CopyTemplateFromFirstRowIsEnabled(e)&&m.Platform.UI.RadGrid.CopyTemplateFromFirstRow(e,t)},v.CopyTemplateFromFirstRowIsEnabled=function(e){return"true"===e.get_element().getAttribute("copyTemplateFromFIrstRow")},v.CopyTemplateFromFirstRow=function(e,t){var i=e.get_masterTableView().get_dataItems()[0].get_element(),e=t.get_itemIndexHierarchical();if("0"!==e){for(var a,n=t.get_gridDataItem().get_element(),r=null,o=0;o<n.cells.length;o++)if(m.Platform.UI.RadGrid.HasClass(n.cells[o],"rgExpandCol")&&0<$(n.cells[o]).find(":submit").length)return;for(o=0;o<i.cells.length;o++)if(m.Platform.UI.RadGrid.HasClass(i.cells[o],"rgExpandCol")){r=i.cells[o];break}for(null!==r&&(e=i.nextSibling,m.Platform.UI.RadGrid.HasClass(e,"rgExpandCol")||(e=e.cloneNode(!0),n.nextSibling?n.parentNode.insertBefore(e,n.nextSibling):n.parentNode.appendChild(e),t.get_gridDataItem().set_expanded(!0))),o=0;o<i.cells.length;o++){for(r=i.cells[o],a=0;a<r.attributes.length;a++){var l=r.attributes[a];$(n.cells[o]).attr(l.name,l.value)}for(a=0;a<r.children.length;a++)n.cells[o].appendChild(r.children[a].cloneNode(!0))}}},v.HasClass=function(e,t){return void 0!==e.className&&null!==e.className&&null!==e.className.match(new RegExp("\\b"+t+"\\b"))},v.OnRowDatabound=function(e,t){var i=t.get_item(),a=i.get_element(),n=t.get_dataItem(),r=(i.get_itemIndexHierarchical(),$(e.get_element().getElementsByClassName("rgFooter"))),o=$(e.get_element()).data("columncollection"),l=(v.ApplyGridColumnFormat(o,a),$(".rgGroupHeader1").addClass("rgGroupHeader").removeClass("rgGroupHeader1"),$(e.get_element()).data("groupingfields"));if(null!=l&&0!==l.length)for(var s=$(a).prevAll(".rgGroupHeader").slice(-l.length),d=s.length-1,u=0;u<l.length;u++){var c=s[d],p=v.GetGroupKey(n,l[u]),g=null;if(void 0===c.__REIGroupKey)(g=c).__REIDataItem=[];else{if(c.__REIGroupKey===p){d--,c.__REIDataItem.push(n);continue}if(0===u)for(var m,h=d-1;0<=h;h--)s[h].__REIGroupKey="",0<s[h].__REIDataItem.length&&v.IsAggregateSet(o)&&void 0!==r&&0<r.length&&(m=r[0].cloneNode(!0),m=v.ApplyAggregate(m,o,s[h].__REIDataItem),a.parentNode.insertBefore(m,a)),s[h].__REIDataItem=[];var f,g=c.cloneNode(!0);void 0!==r&&0<r.length&&(f=r[0].cloneNode(!0),0<c.__REIDataItem.length)&&v.IsAggregateSet(o)&&(f=v.ApplyAggregate(f,o,c.__REIDataItem),a.parentNode.insertBefore(f,a)),a.parentNode.insertBefore(g,a),c.__REIDataItem=[]}c.__REIGroupKey=p,c.__REIDataItem.push(n),g.getElementsByClassName("RadGridGroupP")[0].innerHTML=v.GetGroupHeader(n,l[u]),d--}},v.ApplyGridColumnFormat=function(e,t){for(var i in e){var a,i=e[i];i.hasOwnProperty("NumericType")&&null!==i.NumericType&&"currency"===i.NumericType.toLowerCase()&&(a=$(t).find("td").not("[class]")[i.OrderIndex].innerHTML,a=ReiSys.Platform.Utilities.CommonUtils.formatCurrency(a),$(t).find("td").not("[class]")[i.OrderIndex].innerHTML=a)}},v.ApplyAggregateFormat=function(e,t){return null!==e.NumericType&&"currency"===e.NumericType.toLowerCase()?ReiSys.Platform.Utilities.CommonUtils.formatCurrency(t):t},v.IsAggregateSet=function(e){for(var t in e){t=e[t];if(t.hasOwnProperty("Aggregate")&&"None"!==t.Aggregate)return!0}return!1},v.ApplyAggregate=function(e,t,i){for(var a in t){var n=t[a];if(n.hasOwnProperty("Aggregate"))switch(n.Aggregate){case"Sum":r=v.AggregateSum(n,i);var r=v.ApplyAggregateFormat(n,r);$(e).find("td").not("[class]")[n.OrderIndex].innerHTML=v.GetAggregateText(n,r);break;case"Count":r=v.AggregateCount(i),$(e).find("td").not("[class]")[n.OrderIndex].innerHTML=v.GetAggregateText(n,r);break;case"Avg":o=v.AggregateAvg(n,i);var o=v.ApplyAggregateFormat(n,o);$(e).find("td").not("[class]")[n.OrderIndex].innerHTML=v.GetAggregateText(n,o)}}return e},v.AggregateSum=function(e,t){for(var i=0,a=0;a<t.length;a++)e.hasOwnProperty("DataField")&&(i+=parseInt(t[a][e.DataField]));return i},v.AggregateCount=function(e){return e.length},v.AggregateAvg=function(e,t){return+(v.AggregateSum(e,t)/v.AggregateCount(t)).toFixed(2)},v.GetAggregateText=function(e,t){var i;return i=e.hasOwnProperty("OrderIndex")&&e.hasOwnProperty("FooterText")?e.FooterText+t:i},v.GetGroupKey=function(e,t){for(var i=[],a=0,n=t.GroupFields.length;a<n;a++)i.push(t.GroupFields[a].Name+":"+e[t.GroupFields[a].Name]);return i.join(",")},v.GetGroupHeader=function(e,t){for(var i=[],a=0,n=t.SelectFields.length;a<n;a++){var r=t.SelectFields[a].Alias;void 0!==t.SelectFields[a].HeaderText&&null!==t.SelectFields[a].HeaderText&&(r=t.SelectFields[a].HeaderText),i.push(r+": <span>"+e[t.SelectFields[a].Name]+"</span>")}return i.join(", ")},v.OnDatabound=function(e,t){var i=e.get_masterTableView(),a=i.get_dataItems();if(0!=a.length){var n,r=a[a.length-1].get_element(),o=$(e.get_element()).data("groupingfields"),l=$(e.get_element()).data("columncollection");if(null!=o&&0<o.length&&((c=(n=$(r).prevAll(".rgGroupHeader").slice(-o.length))[o.length-1].cloneNode(!0)).__REIGroupKey="__LASTGROUP__",$(r).children().hasClass("rgExpandCol")?r.parentNode.insertBefore(c,r.nextSibling.nextSibling):r.parentNode.insertBefore(c,r.nextSibling),c.getElementsByClassName("RadGridGroupP")[0].innerHTML="",c.style.display="none"),v.IsAggregateSet(l)){if(null!=o&&0<o.length)for(var s=$(e.get_element().getElementsByClassName("rgFooter"))[0],d=o.length-1;0<=d;d--){var u=s.cloneNode(!0),u=v.ApplyAggregate(u,l,n[d].__REIDataItem);$(r).children().hasClass("rgExpandCol")?r.parentNode.insertBefore(u,r.nextSibling.nextSibling):r.parentNode.insertBefore(u,r.nextSibling)}var c,p=$(e.get_element()).find(".rgFooter:last"),g=[];0===i.CurrentPageIndex&&i.get_pageSize()>a.length?(a.forEach(function(e){g.push(e.get_dataItem())}),v.ApplyAggregate(p,l,g)):(c=v.GetControllerInstance(e.get_id()),(o=new Array).IgnorePageSize=!0,c.GetData(o).then(function(e,t){g=jQuery.parseJSON(e.Data),v.ApplyAggregate(p,l,g)}).fail(function(e){PlatformConsole.log("GetData Failed: "+e)}))}}},v.OnGridCreating=function(e,t){e=e.get_element().getElementsByClassName("rgNoRecords");0<e.length&&e[0].parentNode.insertBefore(e[0],e[0].parentNode.firstChild)},v.GetGroupBySortExpression=function(e,t){var i=[],a=$(e.get_element()).data("groupingfields");if(null!=a&&0!==a.length){for(var n,r=0;r<a.length;r++)for(var o=a[r],l=0;l<o.GroupFields.length;l++)void 0!==o.GroupFields[l].Sort&&""!==o.GroupFields[l].Sort&&i.push(o.GroupFields[l].Name+" "+o.GroupFields[l].Sort);var s=-1;for(r=0;r<t.length;r++)if("customsortexpression"===t[r].Key.toLowerCase()){s=r;break}if(-1<s){var d=t[s].Value.split(", "),u=[];for(l=0;l<d.length;l++){var c=d[l].split(" ");void 0!==c[1]&&null!==c[1]||(c[1]="ASC"),-1<jQuery.inArray(c[0]+" ASC",i)||-1<jQuery.inArray(c[0]+" DESC",i)?i[n=(n=jQuery.inArray(c[0]+" ASC",i))<0?jQuery.inArray(c[0]+" DESC",i):n]=c[0]+" "+c[1]:u.push(c[0]+" "+c[1])}0<u.length&&i.push(u),t.splice(s)}else{var p=e.get_masterTableView().get_sortExpressions().toList();if(0<p.length){var g=[];for(l=0;l<p.length;l++)-1<jQuery.inArray(p[l].FieldName+" ASC",i)||-1<jQuery.inArray(p[l].FieldName+" DESC",i)?i[n=(n=jQuery.inArray(p[l].FieldName+" ASC",i))<0?jQuery.inArray(p[l].FieldName+" DESC",i):n]=p[l].FieldName+" "+(1===p[l].SortOrder?"ASC":"DESC"):g.push(p[l].FieldName+" "+(1===p[l].SortOrder?"ASC":"DESC"));0<g.length&&i.push(g)}}0<i.length&&t.push(new m.Platform.UI.RadGridEventArgs("CustomSortExpression",i.join(", ")))}return t},v.PersistState=!1,v._selectedItemProperty="__REI_IsSelected",v.IsCustomSorted={isCustomSorted:!1,set:function(e){this.isCustomSorted=e},get:function(){return this.isCustomSorted}},e.RadGrid=v,e.RadGridEventArgs=function(e,t){this.Key=e,this.Value=t};var g=function(e,t,i){this.fieldName=e,this.caption=t+" "+(2===i?"DESC":"ASC")}}(Reisys=Reisys||{}),!function(i){var e=i.Platform||(i.Platform={});function t(){}function a(){}function n(){}(e=(e=e.Layout||(e.Layout={})).Toolbar||(e.Toolbar={})).Arguments=function(){},e.MenuItem=t,a.IsDataLoaded=ko.observable(!1),a.SelectedItem=ko.observable(),a.DataItems=ko.observableArray(),a.Init=function(e,t){a.ToolbarSearchType=t,ko.applyBindings(a,e)},a.OnSearchClick=function(){if("CaseBasedView"==a.ToolbarSearchType)return OpenPopup(a.SelectedItem().Url,400,600),!1},a.LoadData=function(){var e,t;!0!==a.IsDataLoaded()&&(e={UserId:i.Platform.sCurrentUserId,ToolbarSearchType:""},"CaseBasedView"==a.ToolbarSearchType&&(t=REISys.Platform.WebRoot+"/api/Platform/Services/Toolbar/GetFolders"),i.Platform.Utilities.WebServiceUtils.SendXmlHttpRequest(t,a.OnDataLoadSuccess,e))},a.OnDataLoadSuccess=function(e){PlatformConsole.log(e),a.DataItems(i.Platform.Utilities.Mapping.mapToKnockout(e,t)),a.IsDataLoaded(!0)},e.ToolbarSearchViewModel=a,n.IsDataLoaded=ko.observable(!1),n.ShowMenuAfterDataLoad=ko.observable(!0),n.IsHelpDefinded=ko.observable(!1),n.Icon=ko.observable("ui-icon ui-icon-nohelp"),n.DataItems=ko.observableArray(),n.CreateNewHelpPage=ko.observable(""),n.ManageAssociation=ko.observable(""),n.ShowManageHelp=ko.computed(function(){for(var e=0;e<n.DataItems().length;e++)if(3===n.DataItems()[e].LinkType||9===n.DataItems()[e].LinkType)return!0;return!1}),n.Init=function(e,t){n.Args=t,ko.applyBindings(n,e),n.IsHelpAssociated()},n.IsHelpAssociated=function(e){var t=REISys.Platform.WebRoot+"/api/Platform/Services/Toolbar/IsHelpAssociated";i.Platform.Utilities.WebServiceUtils.SendXmlHttpRequest(t,function(e){e&&e.Status&&1==e.Status?(n.IsHelpDefinded(!0),n.Icon("ui-icon ui-icon-help1")):(n.IsHelpDefinded(!1),n.Icon("ui-icon ui-icon-nohelp"))},n.Args),!0===e&&(n.IsDataLoaded(!1),n.ShowMenuAfterDataLoad(!1),n.LoadData())},n.LoadData=function(){var e;!1===n.IsDataLoaded()&&(e=REISys.Platform.WebRoot+"/api/Platform/Services/Toolbar/GetHelpLinks",i.Platform.Utilities.WebServiceUtils.SendXmlHttpRequest(e,n.OnDataLoadSuccess,n.Args))},n.OnDataLoadSuccess=function(e){PlatformConsole.log(e),n.CreateNewHelpPage(e.CreateNewHelpPage),n.ManageAssociation(e.ManageAssociation),n.DataItems(i.Platform.Utilities.Mapping.mapToKnockout(e.Data,t)),n.BindMenue(),n.IsDataLoaded(!0)},n.BindMenue=function(){$("#toolbarHelpLink > .reiflyovermenu-helplinks").each(function(e){$(this).fgmenu({content:$(this).next().html(),flyOut:!0,id:"toolbarHelpLink"});var t=allUIMenus.find("toolbarHelpLink");!0===n.ShowMenuAfterDataLoad()&&null!=t&&"undefined"!=t&&t.showMenu()})},e.HelpLinkViewModel=n}(ReiSys=ReiSys||{}),!function(a){var e;function r(){}(e=(e=a.Platform||(a.Platform={})).Favorites||(e.Favorites={})).FavoritesDataModel=function(){var o=this;this.isLoaded=!1,this.showMenueAfterLoad=!0,this.fvoriteItems=ko.observableArray(),this.MapToDataModel=function(e){if(null!=e&&""!=e&&"undefined"!=e){var t=JSON.parse(e);o.fvoriteItems.removeAll();for(var i=0;i<t.length;i++){var a,n=new Object;for(a in t[i]){var r=null==t[i][a]||"undefined"==t[i][a]?"":t[i][a];n[a]=r}o.fvoriteItems.push(n)}}},this.DataBind=function(e,t){try{o.websiteUrl=t,o.userId=REISys.Platform.CurrentUserId,ko.applyBindings(o,e)}catch(e){PlatformConsole.log(e)}},this.LoadFavorites=function(){var e,t;!0!==o.isLoaded&&(o.isLoaded=!0,e=o.websiteUrl+"/Platform/Interface/Services/FavoritesService.aspx/LoadFavorites",t='{ "userId":"'+o.userId+'" }',a.Utilities.Util.PostJsonToServiceAsync(e,t,function(e){o.MapToDataModel(e.d),$("#favoritesRoot > .reiflyovermenu-favorites").each(function(e){$(this).parent().attr("id");$(this).fgmenu({content:$(this).next().html(),flyOut:!0,id:$(this).parent().attr("id")})});e=allUIMenus.find("favoritesRoot");null!=e&&"undefined"!=e&&o.showMenueAfterLoad&&e.showMenu()},function(e,t,i){o.isLoaded=!1,PlatformConsole.log(e.responseText)}))}},r.OnAddRemoveClick=function(){r.Enable()&&r.CallService(r.Action())},r.CallService=function(t){var e=r.WebSiteUrl+"/api/Platform/Favorites/"+t,i=JSON.stringify({Id:r.FavoriteId,Status:"",Text:r.LayoutDisplayText,BigText:"",AdditionalParams:r.AdditionalParameters});a.Utilities.Util.PostJsonToServiceAsync(e,i,function(e){r.Text(e.Text),r.BigText(e.BigText),0==e.Action&&r.Enable(!1),r.Action(e.Action),"IsFavorite"!=t&&null!=myFavModel&&!0===myFavModel.isLoaded&&(myFavModel.isLoaded=myFavModel.showMenueAfterLoad=!1,myFavModel.LoadFavorites())},function(e,t,i){})},r.Enable=ko.observable(!0),r.Action=ko.observable(""),r.Text=ko.observable(""),r.BigText=ko.observable(""),r.CssClass=ko.computed(function(){return r.Enable()?"AddToFavorites"==r.Action()?"toolsicon f_addfav":"toolsicon f_removefav":"toolsicon f_nofav"}),r.Init=function(e,t,i,a,n){r.WebSiteUrl=t,r.FavoriteId=i,r.AdditionalParameters=a,r.LayoutDisplayText=n,ko.applyBindings(r,e),""==i&&r.Enable(!1),r.CallService("IsFavorite")},e.AddRemoveFavoritesModel=r}(ReiSys=ReiSys||{}),this&&this.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function a(){this.constructor=e}e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),__extends=(!function(e){var t;function i(){t.call(this),this.IsPopUp=!1,this.Height=600,this.Width=980,this.PopUpTitle=""}e=(e=(e=e.Platform||(e.Platform={})).Layout||(e.Layout={})).Models||(e.Models={}),t=e.NavigationItemModel,__extends(i,t),e.ResourceNavigationItemModel=i}(REISys=REISys||{}),!function(e){function t(e){this.Id=e,this.IsAllLinksinExtwindow=!0,this.ImageRoot=""}e=e.Platform||(e.Platform={}),t.prototype.FixData=function(e){if(null!=e&&e instanceof Array)for(var t=0;t<e.length;t++){var i,a=e[t];a.IsPopUp&&a.Destination&&!a.Destination.startsWith("javascript")&&(null!=e[t].Destination?(i="javascript:OpenPopupWithMenuBar('"+a.Destination+"', "+a.Height+", "+a.Width+", ' "+a.PopUpTitle+"')",a.Destination=i):(i="javascript:OpenPopupWithMenuBar('', "+a.Height+", "+a.Width+", ' "+a.PopUpTitle+"')",a.Destination=i)),null!=a.ChildNavigationItems&&0<a.ChildNavigationItems.length&&(a.ChildNavigationItems=this.FixData(a.ChildNavigationItems))}return e},t.prototype.RenderTabs=function(){for(var e=$find(this.Id),t=(e.get_tabs().clear(),$find(this.ResourceSubTabsId)),i=t.get_pageViews();0<i.get_count();)i.removeAt(0);if((a=this.ResourceDetails)&&a instanceof Array){for(var a=this.FixData(a),n=0;n<a.length;n++)this.CreateTabs(e,a[n]);0<a.length&&e.set_selectedIndex(0),0<t.get_pageViews().get_count()&&t.set_selectedIndex(0)}},t.prototype.CreateTabs=function(e,t){var i=new Telerik.Web.UI.RadTab,i=(i.set_text(t.Text),e.trackChanges(),e.get_tabs().add(i),new Telerik.Web.UI.RadPageView);i.set_id(e.get_id()+"_"+t.Text.replaceAll(" ","")),$find(this.ResourceSubTabsId).get_pageViews().add(i),t.ChildNavigationItems&&t.ChildNavigationItems instanceof Array&&this.RenderPageView(i,e,t,t.ChildNavigationItems),e.commitChanges()},t.prototype.RenderPageView=function(e,t,i,a){if(null!=e){e=e.get_id(),e=$("#"+e);if(e){var n=[];if(n.push('<div width="100%">'),n.push('<div class="linksRT"><ul class="linklist">'),a&&a instanceof Array)for(var r=0;r<a.length;r++)n.push(this.CreateSubTab(a[r]));n.push("</ul></div></div>"),e.html(n.join(""))}}},t.prototype.CreateSubTab=function(e){var t='<li><a id="{0}" href="{2}" {4}> {1} {3}</a></li>',i=e.IsPopUp?this.Format('class="popUpClass" popUpheight="{0}" popUpWidth="{1}" popUpTitle="{2}" ',e.Height,e.Width,e.PopUpTitle):"",a=(this.IsAllLinksinExtwindow&&e.IsPopUp?this.PopUpImage:"")||"";return null!=e.Destination?this.Format(t,"",e.Text,e.Destination,a,i):this.Format(t,"",e.Text,"",a,i)},t.prototype.Format=function(){for(var e=[],t=0;t<arguments.length;t++)e[+t]=arguments[t];if(0<e.length){for(var i=e[0],a=1;a<e.length;a++)i=i.replace("{"+(a-1)+"}",arguments[a]);return i}return""},t.prototype.BindData=function(e){e&&e instanceof Array&&(this.ResourceDetails=e),this.RenderTabs()},e.ResourcesTabs=t}(ReiSys=ReiSys||{}),!function(e){function t(e){this.Id=e}e=e.Platform||(e.Platform={}),t.prototype.FixData=function(e){if(null!=e&&e instanceof Array)for(var t=0;t<e.length;t++){var i,a,n=e[t];n.IsPopUp&&n.Destination&&!n.Destination.startsWith("javascript")&&(null!=e[t].Destination?(i="javascript:OpenPopupWithMenuBar('"+n.Destination+"', "+n.Height+", "+n.Width+", ' "+n.PopUpTitle+"')",n.Destination=i):(i="javascript:OpenPopupWithMenuBar('', "+n.Height+", "+n.Width+", ' "+n.PopUpTitle+"')",n.Destination=i),a=' <img alt="View in external page" class="extLink" src="'+this.ImageRoot+'/extlink.png">',n.Text=n.Text+a),null!=n.ChildNavigationItems&&0<n.ChildNavigationItems.length&&(n.ChildNavigationItems=this.FixData(n.ChildNavigationItems))}return e},t.prototype.RenderMenu=function(e){var t=document.getElementById(this.Id);if(t&&(e=this.FixData(e),t&&ko.applyBindings({flyoutResources:e},t),0<e.length)){e=$(t).find(":first-child");if(allUIMenus&&allUIMenus instanceof Array)for(var i=allUIMenus.find(this.Id),a=0;a<allUIMenus.length;a++)i==allUIMenus[a]&&(i.kill(),allUIMenus.splice(a,1));e&&e.fgmenu({content:e.next().html(),flyOut:!0,id:this.Id})}},t.prototype.BindData=function(e){e&&e instanceof Array&&(this.ResourceDetails=e),this.RenderMenu(this.ResourceDetails)},e.ResourcesFlyout=t}(ReiSys=ReiSys||{}),!function(i){var e,o,a,n,r;function l(){}e=(e=i.Platform||(i.Platform={})).ExceptionManagement||(e.ExceptionManagement={}),o=function(){},a=function(e,t,i){var a=this,e=(this.HttpQueueWorkerJs="E8FDC20D-02D5-4CC5-8AA4-2235B7034F53",this.Log=function(e){0<a.pollInternal?a.Logger.postMessage({action:"enqueue",message:e}):a.SendToServer(e)},this.SendToServer=function(e){a.Logger.postMessage({action:"sendToServer",message:e||null})},this.pollInternal=e,this.serviceUrl=t,this.configServiceUrl=i,{Key:this.HttpQueueWorkerJs});r.SendXmlHttpRequest(e,this.configServiceUrl,function(e){a.Logger=new Worker(JSON.parse(e).Value),a.Logger.onmessage=function(e){e=JSON.parse(e.data).Url;e&&""!=e&&r.ProcessResponse(e)},a.Logger.postMessage({action:"setHeader",header:{url:a.serviceUrl,pollInterval:a.pollInternal}})})},n=function(e,t){var i=this;this.localQueue=[],this.Log=function(e){0<i.pollInternal?i.localQueue.push(e):i.SendToServer(e)},this.SendToServer=function(e){i.pollInternal<1&&e?(e=e instanceof Array?e:[e],r.SendXmlHttpRequest(e,i.serviceUrl,function(e){e=JSON.parse(e).Url;e&&""!=e&&r.ProcessResponse(e)})):i.localQueue&&0<i.localQueue.length&&(r.SendXmlHttpRequest(i.localQueue,i.serviceUrl,function(e){e=JSON.parse(e).Url;e&&""!=e&&r.ProcessResponse(e)}),i.localQueue=[])},this.pollInternal=e,this.serviceUrl=t,this.Logger=setInterval(this.SendToServer,this.pollInternal)},l.Init=function(e,t){parseInt(t)&&(l.ExceptionLoggerPollInterval=1e3*parseInt(t)),l.EnableRedirectAfterLogging="1"==e,window.Worker?l.Logger=new a(l.ExceptionLoggerPollInterval,l.serviceUrl,l.configServiceUrl):l.Logger=new n(l.ExceptionLoggerPollInterval,l.serviceUrl),window.onerror=i.Platform.ExceptionManagement.ExceptionManager.LogError,window.onunload=function(){0<l.ExceptionLoggerPollInterval&&l.Logger.SendToServer()}},l.ProcessResponse=function(e){PlatformConsole.log(e),!0===l.IsPublishException?l.EnableRedirectAfterPublish&&(document.location.href=e):l.EnableRedirectAfterLogging&&(document.location.href=e)},l.LogError=function(e,t,i,a,n){l.IsPublishException=!1;var r=new o;r.message=e||"",r.stack=printStackTrace(n),r.filename=t||"",r.lineno=i||"",r.colno=a||"",l.Logger.Log(r)},l.PublishException=function(e,t){l.IsPublishException=!0,l.EnableRedirectAfterPublish=t&&!0===t;t=new o;t.message="",t.stack=printStackTrace(e),"string"==typeof e?t.message=e:e&&e.message&&e instanceof Error&&(t.message=e.message),l.Logger.Log(t)},l.SendXmlHttpRequest=function(e,t,i,a,n){void 0===n&&(n="POST");var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState===(XMLHttpRequest.DONE||4)&&(200===r.status?i&&"function"==typeof i&&i(r.responseText):400===r.status&&a&&"function"==typeof a&&a(r.responseText))},r.open(n,t,!0),r.setRequestHeader("Content-type","application/json"),r.setRequestHeader("Accept","*/*"),r.send(JSON.stringify(e))},l.Logger={},l.serviceUrl=REISys.Platform.WebRoot+"api/Platform/ExceptionManagement/Logger",l.configServiceUrl=REISys.Platform.WebRoot+"api/Platform/ConfigurationManagement/GetUrl",l.ExceptionLoggerPollInterval=0,l.EnableRedirectAfterLogging=!0,l.IsPublishException=!1,l.EnableRedirectAfterPublish=!0,r=l,e.ExceptionManager=r}(ReiSys=ReiSys||{}),!function(i){var e,n;function t(e,t){this.masterPanel=t,this.items=new ReiSys.Platform.Utils.Dictionary,this.SizeChangedEvent=new GlobalPlatformEvent("SizeChanged"),this.ViewAllEvent=new GlobalPlatformEvent("viewAll"),this.viewSelectedEvent=new GlobalPlatformEvent("viewAll"),this.ItemToggleEvent=new GlobalPlatformEvent("itemToggle"),this.groupName=e.GroupName,this.isMasterPanel=e.IsMasterPanel,this.itemCountBtnId=e.ItemCountBtnId,this.viewAllBtnId=e.ViewAllBtnId,this.viewPopupBtnId=e.ViewPopupBtnId,this.viewPopupBtnUrl=e.FinalPopupUrl,this.useLocalStorage=e.UseLocalStorage,this.isMasterPanel?(this.grid=Reisys.Platform.UI.RadGrid.GetControllerInstance(e.GridId),this.grid.ItemSelectedEvent.subscribe(this.selectItem.bind(this)),this.grid.ItemSelectedEvent.subscribe(this.toggleItem.bind(this)),this.grid.ItemUnselectedEvent.subscribe(this.unselectItem.bind(this)),this.grid.ItemUnselectedEvent.subscribe(this.toggleItem.bind(this)),this.grid.ClearSelectionEvent.subscribe(function(){this.clearGroupPanelSelection(),this.updateView()}.bind(this)),Reisys.Platform.UI.OnBeforeDataBind.subscribe(this.updateGridModelWithSelection.bind(this)),this.gridDataKeyNames=this.grid.gridDataKeyNames,this.localStorageKeyName=this.getLocalStorageKeyName(e.GridId),this.items=this.useLocalStorage?this.getItemsFromLocalStorage(this.localStorageKeyName):new ReiSys.Platform.Utils.Dictionary):null!==this.masterPanel&&(this.masterPanel.ViewAllEvent.subscribe(this.viewAllBtnHide.bind(this)),this.masterPanel.viewSelectedEvent.subscribe(this.viewAllBtnShow.bind(this)),this.masterPanel.SizeChangedEvent.subscribe(this.updateView.bind(this))),this.updateView()}e=(e=i.Platform||(i.Platform={})).UI||(e.UI={}),n=ReiSys.Platform.LocalStorage.StoreManager,t.prototype.toggleItem=function(){this.ItemToggleEvent.raise()},t.prototype.updateView=function(){this.isMasterPanel&&this.SizeChangedEvent.raise();var e=$("#"+this.itemCountBtnId),t=(e.html(""+this.getNumberSelected()),$("#"+this.viewPopupBtnId));e.attr("href","javascript:;"),t.attr("href","javascript:;"),0==this.getNumberSelected()?(e.attr("disabled","disabled"),e.attr("style","color: #414141; cursor: auto"),e.removeAttr("tabindex"),t.attr("disabled","disabled"),t.attr("style","color: #414141; cursor: auto"),t.removeAttr("tabindex"),t.attr("onclick","function(){return false}")):(e.removeAttr("disabled"),e.attr("style","cursor: pointer"),e.attr("tabindex","0"),t.removeAttr("disabled"),t.attr("style","cursor: pointer"),t.attr("tabindex","0"),t.attr("onclick","javascript:OpenPopup('"+this.viewPopupBtnUrl+"'); return false;"))},t.prototype.viewAllBtnHide=function(){$("#"+this.viewAllBtnId).hide()},t.prototype.viewAllBtnShow=function(){$("#"+this.viewAllBtnId).show()},t.prototype.selectAllPage=function(){var e;this.isMasterPanel?(e=this.grid.GetCurrentPageKeysSelect(),this.grid.SelectAllItemsOnPage(),this.addItems(e),this.updateView(),this.toggleItem()):null===this.masterPanel&&void 0===this.masterPanel||this.masterPanel.selectAllPage()},t.prototype.unselectAllPage=function(){var e;this.isMasterPanel?(e=this.grid.GetCurrentPageKeysUnselect(),this.grid.UnselectAllItemsOnPage(),this.removeItems(e),this.updateView(),this.toggleItem()):null!==this.masterPanel&&void 0!==this.masterPanel&&this.masterPanel.unselectAllPage()},t.prototype.selectAllAcrossPages=function(){var e,t;this.isMasterPanel?(e=Reisys.Platform.UI.RadGrid.GetLoadingPanelId(this.grid.grid),Reisys.Platform.UI.RadGrid.ShowHideLoadingPanel(e,this.grid.gridId,!0),(t=this).grid.GeAllKeysSelect().done(function(e){t.clearGroupPanelSelection(),t.addItems(e),t.updateView(),t.toggleItem()}).always(function(){Reisys.Platform.UI.RadGrid.ShowHideLoadingPanel(e,t.grid.gridId,!1)}),this.grid.SelectAllItemsOnPage()):null!==this.masterPanel&&void 0!==this.masterPanel&&this.masterPanel.selectAllAcrossPages()},t.prototype.unselectAllAcrossPages=function(){this.isMasterPanel?(this.grid.UnselectAllItemsOnPage(),this.clearGroupPanelSelection(),this.updateView(),this.toggleItem()):null!==this.masterPanel&&void 0!==this.masterPanel&&this.masterPanel.unselectAllAcrossPages()},t.prototype.selectItem=function(e){this.isMasterPanel?(this.addItems([e]),this.updateView()):null!==this.masterPanel&&void 0!==this.masterPanel&&this.masterPanel.selectItem(e)},t.prototype.updateGridModelWithSelection=function(e,t){var i,a,n,r,o,l,s=[];if(e.get_id()===this.grid.gridId&&0!==(n=this.getItems().values()).length){var d,u=n[0];for(d in u)u.hasOwnProperty(d)&&s.push(d);for(var c=t.length,p=n.length,g=s.length,m=0;m<c;m++){for(l=t[m],o=!1,i=0;i<p;i++){for(u=n[i],o=!1,a=0;a<g;a++){if(l[r=s[a]]!==u[r]){o=!1;break}o=!0}if(o)break}l[Reisys.Platform.UI.RadGrid._selectedItemProperty]=o}}},t.prototype.unselectItem=function(e){this.isMasterPanel?(this.removeItems([e]),this.updateView()):null!==this.masterPanel&&void 0!==this.masterPanel&&this.masterPanel.unselectItem(e)},t.prototype.viewAll=function(){var e=$("#"+this.itemCountBtnId);this.isMasterPanel?(this.grid.ViewAll(),this.ViewAllEvent.raise(),this.viewAllBtnHide(),e.focus()):null!==this.masterPanel&&void 0!==this.masterPanel&&(this.masterPanel.viewAll(),this.viewAllBtnHide(),e.focus())},t.prototype.viewSelected=function(){this.isMasterPanel?0<this.getNumberSelected()&&(this.grid.ViewSelected(this.items),this.viewSelectedEvent.raise(),this.viewAllBtnShow()):null!==this.masterPanel&&void 0!==this.masterPanel&&0<this.getNumberSelected()&&(this.masterPanel.viewSelected(),this.viewAllBtnShow())},t.prototype.getNumberSelected=function(){return this.isMasterPanel?(this.items||(this.items=new ReiSys.Platform.Utils.Dictionary),this.items.length()):null!==this.masterPanel&&void 0!==this.masterPanel?this.masterPanel.getNumberSelected():void 0},t.prototype.addToCollection=function(e){var t=this.generateKey(e);this.items.containsKey(t)||this.items.add(t,e)},t.prototype.addItems=function(e){var t=e.length;null===this.items&&(this.items=new ReiSys.Platform.Utils.Dictionary);for(var i=0;i<t;i++)this.addToCollection(e[i]);this.useLocalStorage&&this.addToLocalStorage(this.localStorageKeyName,this.items)},t.prototype.removeFromCollection=function(e){e=this.generateKey(e);null===this.items&&(this.items=new ReiSys.Platform.Utils.Dictionary),this.items.containsKey(e)&&this.items.remove(e)},t.prototype.generateKey=function(e){for(var t=this.gridDataKeyNames.length,i="",a=0;a<t;a++)i+=e[this.gridDataKeyNames[a]],a<t-1&&(i+="_");return i},t.prototype.removeItems=function(e){for(var t=e.length,i=0;i<t;i++)this.removeFromCollection(e[i]);this.useLocalStorage&&this.addToLocalStorage(this.localStorageKeyName,this.items)},t.prototype.clearGroupPanelSelection=function(){this.useLocalStorage&&this.removeFromLocalStorage(this.localStorageKeyName),this.items=new ReiSys.Platform.Utils.Dictionary},t.prototype.getItems=function(){if(this.isMasterPanel)return this.items||new ReiSys.Platform.Utils.Dictionary;null!==this.masterPanel&&void 0!==this.masterPanel&&this.masterPanel.getItems()},t.prototype.getLocalStorageKeyName=function(e){var t="";return t=null!=this.gridDataKeyNames?i.Platform.CurrentSessionID+"_"+e+"_"+this.gridDataKeyNames.toString():t},t.prototype.addToLocalStorage=function(e,t){n.set(e,t,!0)},t.prototype.removeFromLocalStorage=function(e){n.has(e)&&n.remove(e)},t.prototype.getItemsFromLocalStorage=function(e){if(n.has(e)){for(var t=n.get(e),i=new ReiSys.Platform.Utils.Dictionary,a=0;a<t._keys.length;a++)i._keys.push(t._keys[a]),i._values.push(t._values[a]),i[t._keys[a]]=t._values[a];return i}return null},e.GroupPanelController=t}(REISys=REISys||{}),!function(e){var t,n,r;function i(){}t=(t=e.Platform||(e.Platform={})).UI||(t.UI={}),n=e.Platform.LocalStorage.StoreManager,r=function(e,t){this.type=e,this.value=t},t.PersistItemModel=r,Object.defineProperty(i,"includeQueryString",{set:function(e){i._includeQueryString=e},enumerable:!0,configurable:!0}),Object.defineProperty(i,"key",{set:function(e){e&&(i._uniqueKey=e)},enumerable:!0,configurable:!0}),i.getKey=function(){var e=[REISys.Platform.CurrentSessionID];return e.push(i._uniqueKey||(i.includeQueryString?location.href:location.pathname).split("/").slice(-1).toString()),e.join("_")},i.getAll=function(){return n.get(this.getKey())},i.getItem=function(e){var t=n.get(this.getKey());if(null!=t)for(var i=t.length,a=0;a<i;a++)if(t[a].type===e)return t[a].value;return null},i.saveItem=function(i,e){var t,a;void 0!==REISys.Platform.CurrentSessionID&&null!==REISys.Platform.CurrentSessionID&&(t=this.getKey(),(a=[]).push(new r(i,e)),n.has(t)&&n.get(t).forEach(function(e,t){e.type!==i&&a.push(new r(e.type,e.value))}),n.set(this.getKey(),a,!0))},i.removeItem=function(e){var t=n.get(this.getKey());if(null!=t){for(var i=t.length,a=0;a<i;a++)if(t[a].type===e){t.splice(a);break}n.set(this.getKey(),t,!0)}},i.removeAll=function(){n.remove(this.getKey())},t.BasePersistenceUtility=i}(ReiSys=ReiSys||{}),this&&this.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function a(){this.constructor=e}e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),__extends=(!function(l){var e,t,i;function a(){t.call(this)}e=(e=l.Platform||(l.Platform={})).UI||(e.UI={}),i=function(){},e.GridPersistModel=i,t=l.Platform.UI.BasePersistenceUtility,__extends(a,t),a.loadState=function(e){var t=this.getItem("grid");null!=t&&this.updateGridSettings($telerik.findGrid(e),t)},a.saveState=function(e){null!=e&&(e=this.getGridSettings(e),this.saveItem("grid",e))},a.clearState=function(){this.removeItem("grid")},a.getGridSettings=function(e){var e=e.get_masterTableView(),t=new i;return t.pageSize=e.get_pageSize(),t.pageIndex=e.get_currentPageIndex(),t.sortItems=e.get_sortExpressions().toList(),t.filterItems=e.get_filterExpressions().toList(),t},a.updateGridSettings=function(e,t){var i=e.get_masterTableView();if(""===t.pageSize&&"0"===t.pageSize||i.set_pageSize(t.pageSize),i.set_currentPageIndex(t.pageIndex),void 0!==t.sortItems){i.clearSort();for(var a=t.sortItems,n=0;n<a.length;n++){var r=a[n];Reisys.Platform.UI.RadGrid.AddSortExpression(e,r.FieldName,r.SortOrder)}}if(void 0!==t.filterItems){i.clearFilter();var o=t.filterItems;for(n=0;n<o.length;n++)l.Utilities.Util.SetValueForFilterControl(e.get_id(),o[n].ColumnUniqueName,o[n].FieldValue),Reisys.Platform.UI.RadGrid.ApplyFilter(e,o[n].ColumnUniqueName,o[n].FieldName,o[n].FilterFunction,"",o[n].FieldValue,o[n].DataTypeName)}},e.RadGridPersistUtility=a}(ReiSys=ReiSys||{}),this&&this.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function a(){this.constructor=e}e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});!function(r){var e,t,o,l,s,d,i;function a(){}function n(){t.call(this)}e=(e=r.Platform||(r.Platform={})).UI||(e.UI={}),o=function(){this.searchFields=[],this.searchDisplay=new l},e.SearchPersistModel=o,l=function(){this.sortFields=[],this.sortOption=d.Grid},e.SearchPersistDisplayModel=l,s=function(e,t){this.id=e,this.value=t},e.SearchPersistFieldModel=s,e.SearchPersistSaveSearchModel=a,(i=e.SortOption||(e.SortOption={}))[i.Grid=0]="Grid",i[i.Custom=1]="Custom",d=e.SortOption,t=r.Platform.UI.BasePersistenceUtility,__extends(n,t),n.loadState=function(){var e=this.getItem("searchFilters");return null!=e&&(this.updateSearch(e),!0)},n.saveState=function(e,t,i,a){var n=new o;n.searchFields=this.getSearchFields(e),n.searchDisplay=this.getDisplayFields(t,a),n.savedSearch=this.getSaveSearch(i),this.saveItem("searchFilters",n)},n.clearState=function(){this.removeItem("searchFilters")},n.updateSearch=function(e){if(null!=e){var t,i,a=e.searchFields;if(null!=a&&0<a.length)for(t=0;t<a.length;t++)r.Utilities.Util.SetValueForControl(a[t].id,""),null!=(i=a[t].value)&&(i=i.replace(/'/g,"").split("|").join(","),r.Utilities.Util.SetValueForControl(a[t].id,i));var n=e.searchDisplay;if(null!=n&&(n.sortOption===d.Custom&&($("[id$=btnSearch]").attr("CustomSortSelected","true"),"string"==typeof n.sortContainderId)&&(REISys.Platform.UI.searchPanel.sortControlContainerId=n.sortContainderId),null!=(a=n.sortFields))&&0<a.length)for(t=0;t<a.length;t++)r.Utilities.Util.SetValueForControl(a[t].id,""),null!=(i=a[t].value)&&(i=i.replace(/'/g,"").split("|").join(","),r.Utilities.Util.SetValueForControl(a[t].id,i));void 0!==e.savedSearch&&null!==e.savedSearch&&(n=e.savedSearch,r.Utilities.Util.SetValueForControl(n.id,n.value))}},n.getSearchFields=function(e){for(var t=[],i=0;i<e.length;i++){var a=e[i];"REITextBox"===a.InputControlType?t.push(new s(a.InputClientID,a.InputText)):t.push(new s(a.InputClientID,a.InputValue)),a.Input2ClientID&&t.push(new s(a.Input2ClientID,a.Input2Value))}return t},n.getDisplayFields=function(e,t){var i,a=new l;if(a.sortContainderId=t,"true"===$("[id$=btnSearch]").attr("CustomSortSelected").toLowerCase()&&(a.sortOption=d.Custom),null!=e)for(i=0;i<e.length;i++){var n=e[i];a.sortFields.push(new s(n.InputClientID,n.InputValue)),a.sortFields.push(new s(n.SortDirectionClientID,n.SortDirectionInputValue))}return a},n.getSaveSearch=function(e){return null==e?null:new s(e.InputClientID,e.InputValue)},i=n,e.SearchPersistUtility=i}(ReiSys=ReiSys||{});